webpackJsonp([5],{210:function(t,e,a){a(717);var r=a(191)(a(645),a(783),null,null);t.exports=r.exports},594:function(t,e,a){t.exports=a.p+"static/img/studentExcel.51c8daf.png"},645:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(a(13),a(193)),s=a.n(r);e.default={data:function(){return{activeName:"one",formSubmited:!1,formLabelWidth:"60px",gradeList:{},formData:{classId:this.$route.query.classId,gradeId:this.$route.query.gradeId},isError:!1,errorArr:[],fielname:"",baseURLPage:""}},beforeCreate:function(){this.userInfo=JSON.parse(localStorage.getItem("userInfo"))},mounted:function(){this.baseURLPage=this.baseURL,this.userInfo=JSON.parse(localStorage.getItem("userInfo"))},methods:{handleClick:function(t,e){console.log(t,e)},goBack:function(){this.$router.go(-1)},fileChange:function(t){var e=this;""==this.formData.gradeId?this.$alert("请选择学生所在年级","标题名称",{confirmButtonText:"确定",callback:function(t){e.$message({type:"info",message:"action: "+t})}}):""!=this.formData.gradeId&&""!=this.formData.classId||this.$alert("请选择学生所在年级班级","标题名称",{confirmButtonText:"确定",callback:function(t){e.$message({type:"info",message:"action: "+t})}});var a=t.target.files||t.dataTransfer.files;this.fielname=a[0].name},submitForm:function(t){if(t.preventDefault(),!this.fielname)return void this.useAlert("error","请选择导入文件",function(){});var e=this;e.formSubmited=!0;var a=new window.FormData(document.getElementById("importScoreForm"));s.a.ajax({url:this.staticResources+"/import/student?classId="+e.formData.classId+"&gradeId="+e.formData.gradeId+"&schoolId="+e.userInfo.schools.schoolId,type:"post",data:a,xhrFields:{withCredentials:!0},dataType:"json",processData:!1,contentType:!1,success:function(t){200==t.code||400==t.code?(e.formSubmited=!1,e.$alert(t.message,"提示",{confirmButtonText:"确定"})):(e.formSubmited=!1,e.isError=!0,e.errorArr=t.data,e.$nextTick(function(){var t=s()("#errorDiv");s()("body,html").animate({scrollTop:t.offset().top})}))}})}}}},669:function(t,e,a){e=t.exports=a(523)(),e.push([t.i,"#studentbatch .dialog-footer{text-align:center}#studentbatch .el-radio-button{margin-right:10px;border-left:1px solid #bfcbd9}#studentbatch .el-radio-button:first-child .el-radio-button__inner,#studentbatch .el-radio-button:last-child .el-radio-button__inner{border-radius:0 0 0 0}","",{version:3,sources:["E:/works/jiaowuzuixin/src/pages/front/teacher/teacherstudentbatch.vue"],names:[],mappings:"AACA,6BACE,iBAAmB,CACpB,AACD,+BACE,kBAAmB,AACnB,6BAA8B,CAC/B,AAID,qIACE,qBAAuB,CACxB",file:"teacherstudentbatch.vue",sourcesContent:["\n#studentbatch .dialog-footer{\n  text-align: center;\n}\n#studentbatch .el-radio-button{\n  margin-right: 10px;\n  border-left:1px solid #bfcbd9;\n}\n#studentbatch  .el-radio-button:first-child .el-radio-button__inner{\n  border-radius:0 0 0 0 ;\n}\n#studentbatch  .el-radio-button:last-child .el-radio-button__inner{\n  border-radius:0 0 0 0 ;\n}\n"],sourceRoot:""}])},717:function(t,e,a){var r=a(669);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(524)("4d1a9546",r,!0)},783:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"studentbatch"}},[r("div",{staticClass:"ev-page-return"},[r("a",{staticClass:" icon-back",attrs:{href:"javascript:;"},on:{click:t.goBack}},[t._v("返回")])]),t._v(" "),r("div",{staticClass:"ev-report-page-panel"},[r("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"批量导入",name:"one"}},[r("el-form",{attrs:{model:t.formData,method:"post",action:"/schadmin/import/importScore",enctype:"multipart/form-data",id:"importScoreForm"}},[r("ol",[r("li",{staticClass:"xiazai"},[r("h3",[t._v("1、下载模板")]),t._v(" "),r("p",[t._v("点击下载导入模板   "),r("a",{attrs:{href:t.baseURLPage+"downloads/参测学生基本信息表.xls",target:"_blank"}},[r("el-button",{staticClass:"download",attrs:{type:"primary"}},[t._v("下载")])],1)])]),t._v(" "),r("li",{staticClass:"file-box"},[r("h3",[t._v("2、选择需要导入的EXCEL文件")]),t._v(" "),r("el-form-item",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.fielname,expression:"fielname"}],staticClass:"txt",attrs:{type:"text",name:"textfield",id:"textfield"},domProps:{value:t.fielname},on:{input:function(e){e.target.composing||(t.fielname=e.target.value)}}}),t._v(" "),r("input",{staticClass:"select-btn",attrs:{type:"button",value:"选择文件"}}),t._v(" "),r("input",{staticClass:"upload-demo",attrs:{name:"file",accept:".xls,.xlsx,.csv",type:"file"},on:{change:[function(e){t.fileChange(e)},function(e){t.fileChange(e)}]}}),t._v(" "),r("el-button",{staticClass:"submit",attrs:{type:"primary","native-type":"submit ",loading:t.formSubmited},on:{click:function(e){t.submitForm(e)}}},[t._v(" 导入")])],1),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.gradeId,expression:"formData.gradeId"}],attrs:{type:"hidden",name:"examId",value:""},domProps:{value:t.formData.gradeId},on:{input:function(e){e.target.composing||(t.formData.gradeId=e.target.value)}}}),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.classId,expression:"formData.classId"}],attrs:{type:"hidden",name:"classId",value:""},domProps:{value:t.formData.classId},on:{input:function(e){e.target.composing||(t.formData.classId=e.target.value)}}})],1)])]),t._v(" "),r("div",[r("div",{directives:[{name:"show",rawName:"v-show",value:t.isError,expression:"isError "}],staticStyle:{"margin-top":"20px","min-height":"500px"}},[r("div",{staticClass:"icon-cue",staticStyle:{"font-size":"14px",color:"red",padding:"10px 0 10px 0"}},[t._v("  出错提示")]),t._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.errorArr,border:"",align:"center"}},[r("el-table-column",{attrs:{prop:"fileName",label:"问题文档",width:"180",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"row",label:"问题行数",width:"200",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"name",label:"出错人",width:"180",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"content",label:"问题描述",align:"center"}})],1)],1),t._v(" "),r("div",{attrs:{id:"errorDiv"}})])],1),t._v(" "),r("el-tab-pane",{attrs:{label:"操作指引",name:"two"}},[r("div",{staticClass:"explain"},[r("h3",[t._v("1、导入格式案例")]),t._v(" "),r("div",{staticClass:"report-remark"},[t._v("\n              参测学生基本信息表\n            ")]),t._v(" "),r("img",{attrs:{src:a(594)}}),t._v(" "),r("h3",[t._v("2、填写注意事项：")]),t._v(" "),r("p",{staticClass:"son-remark"},[t._v("1、每个班或测评组学生基本信息单独建立一个EXCEL文件。")]),t._v(" "),r("p",{staticClass:"son-remark"},[t._v("2、文件命名规则：年级+班级（或组号）。")]),t._v(" "),r("p",{staticClass:"son-remark"},[t._v("3、请严格按照示例格式填写基础信息，“性别、民族、是否独生子女、是否住校、监护人、父亲学历、父亲职业、母亲学历、母亲职业”选项请从下拉菜单中选择。")]),t._v(" "),r("h3",[t._v("3、导入说明")]),t._v(" "),r("p",{staticClass:"son-remark"},[t._v("1、文件导入前请严格按照数据要求和格式要求填写。")]),t._v(" "),r("p",{staticClass:"son-remark"},[t._v("2、导入如果出现异常或数据问题，请修改后重新导入。")])])])],1)],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=5.1271ff220b7ed8813c16.js.map