webpackJsonp([39],{551:function(t,e,a){a(750);var r=a(191)(a(628),a(816),null,null);t.exports=r.exports},594:function(t,e,a){t.exports=a.p+"static/img/studentExcel.51c8daf.png"},628:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(a(13),a(193)),o=a.n(r);e.default={data:function(){return{activeName:"one",formSubmited:!1,formLabelWidth:"60px",gradeList:{},formData:{classId:"",gradeId:""},isError:!1,errorArr:[],fielname:"",baseURLPage:""}},beforeCreate:function(){var t=this;t.userInfo=JSON.parse(localStorage.getItem("userInfo")),console.log(),t.$ajax("/teacher/getGradeList",{schoolId:t.userInfo.schools.schoolId}).then(function(e){200==e.code&&e.data&&e.data.length&&(t.gradeList={},e.data.forEach(function(e,a){t.gradeList[e.index]||(t.gradeList[e.index]=e)}),console.log(t.gradeList))})},mounted:function(){this.baseURLPage=this.baseURL},methods:{handleClick:function(t,e){console.log(t,e)},fileChange:function(t){""==this.formData.gradeId?this.useAlert("error","请选择年级",function(){}):""!=this.formData.gradeId&&""!=this.formData.classId||this.useAlert("error","请选择班级",function(){}),console.log(t);var e=t.target.files||t.dataTransfer.files;this.fielname=e[0].name},submitForm:function(t){if(t.preventDefault(),""==this.formData.gradeId)return void this.useAlert("error","请选择年级",function(){});if(console.log(this.formData.classId),!this.formData.classId||""==this.formData.classId)return void this.useAlert("error","请选择班级",function(){});if(!this.fielname)return void this.useAlert("error","请选择导入文件",function(){});var e=this;e.formSubmited=!0;var a=new window.FormData(document.getElementById("importScoreForm"));o.a.ajax({url:this.staticResources+"/import/student?classId="+e.formData.classId+"&gradeId="+e.formData.gradeId+"&schoolId="+e.userInfo.schools.schoolId,type:"post",data:a,xhrFields:{withCredentials:!0},dataType:"json",processData:!1,contentType:!1,success:function(t){200==t.code||400==t.code?(e.formSubmited=!1,e.$alert(t.message,"提示",{confirmButtonText:"确定"})):(e.formSubmited=!1,e.isError=!0,e.errorArr=t.data,e.$nextTick(function(){var t=o()("#error");o()("body,html").animate({scrollTop:t.offset().top})}))}})}}}},702:function(t,e,a){e=t.exports=a(523)(),e.push([t.i,"#studentbatch .dialog-footer{text-align:center}#studentbatch .el-form-item__label{padding:16px 12px 11px 0}#studentbatch .el-radio-button{margin-right:10px;margin-top:5px;border-left:1px solid #bfcbd9}#studentbatch .el-radio-button:first-child .el-radio-button__inner{border-radius:0 0 0 0;border-left:none}#studentbatch .el-radio-button:last-child .el-radio-button__inner{border-radius:0 0 0 0}#studentbatch .el-radio-button__inner{border-radius:0 0 0 0;display:inline-block;width:70px;padding:10px 8px}#studentbatch .ev-report-page-panel .el-tab-pane li:first-of-type i{background-color:#1ec56b}#studentbatch .ev-report-page-panel .el-tab-pane li:nth-of-type(2) i{background-color:#0d9ee9}#studentbatch .ev-report-page-panel .el-tab-pane li:nth-of-type(3) i{background-color:#ff773b}","",{version:3,sources:["D:/works/Src/SourceCode/yitai-dubbo-service/yitai-all-project/yitai-educational-web/src/main/webapp/src/pages/front/schoolRollFiler/schoolRollstudentbatch.vue"],names:[],mappings:"AACA,6BACE,iBAAmB,CACpB,AACD,mCACE,wBAA0B,CAC3B,AACD,+BACE,kBAAmB,AACnB,eAAe,AACf,6BAA8B,CAC/B,AACD,mEACE,sBAAsB,AACtB,gBAAiB,CAClB,AACD,kEACE,qBAAuB,CACxB,AACD,sCACE,sBAAuB,AACvB,qBAAsB,AACtB,WAAW,AACX,gBAAkB,CACnB,AACD,oEAAsE,wBAA0B,CAC/F,AACD,qEAAsE,wBAA0B,CAC/F,AACD,qEAAsE,wBAA0B,CAC/F",file:"schoolRollstudentbatch.vue",sourcesContent:["\n#studentbatch .dialog-footer{\n  text-align: center;\n}\n#studentbatch  .el-form-item__label{\n  padding: 16px 12px 11px 0;\n}\n#studentbatch .el-radio-button{\n  margin-right: 10px;\n  margin-top:5px;\n  border-left:1px solid #bfcbd9;\n}\n#studentbatch  .el-radio-button:first-child .el-radio-button__inner{\n  border-radius:0 0 0 0;\n  border-left:none;\n}\n#studentbatch  .el-radio-button:last-child .el-radio-button__inner{\n  border-radius:0 0 0 0 ;\n}\n#studentbatch  .el-radio-button__inner{\n  border-radius:0 0 0 0 ;\n  display: inline-block;\n  width:70px;\n  padding: 10px 8px;\n}\n#studentbatch .ev-report-page-panel .el-tab-pane li:nth-of-type(1) i {background-color: #1ec56b;\n}\n#studentbatch .ev-report-page-panel .el-tab-pane li:nth-of-type(2) i {background-color: #0d9ee9;\n}\n#studentbatch .ev-report-page-panel .el-tab-pane li:nth-of-type(3) i {background-color: #ff773b;\n}\n"],sourceRoot:""}])},750:function(t,e,a){var r=a(702);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(524)("61fc19c4",r,!0)},816:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:t.formSubmited,expression:"formSubmited",modifiers:{lock:!0}}],attrs:{id:"studentbatch","element-loading-text":"数据导入中..."}},[r("div",{staticClass:"ev-page-return"},[r("router-link",{staticClass:" icon-back",attrs:{to:{path:"/studentManagement"}}},[t._v("返回 ")])],1),t._v(" "),r("div",{staticClass:"ev-report-page-panel"},[r("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"批量导入",name:"one"}},[r("el-form",{attrs:{model:t.formData,method:"post",action:"/schadmin/import/importScore",enctype:"multipart/form-data",id:"importScoreForm"}},[r("ol",[r("li",{staticClass:"xiazai"},[r("h3",[r("i",{staticClass:"icon-download-File"}),t._v(" 1、下载模板")]),t._v(" "),r("p",[t._v("\n                点击下载导入模板"),r("a",{attrs:{href:t.baseURLPage+"downloads/参测学生基本信息表.xls",target:"_blank"}},[r("el-button",{staticClass:"download",attrs:{type:"primary"}},[t._v(" 下载")])],1)])]),t._v(" "),r("li",[r("h3",[r("i",{staticClass:"icon-lead-in-class"}),t._v("2、选择学生所在班级")]),t._v(" "),r("el-form-item",{attrs:{label:"年级：","label-width":t.formLabelWidth}},[r("el-radio-group",{model:{value:t.formData.gradeId,callback:function(e){t.formData.gradeId=e},expression:"formData.gradeId"}},t._l(t.gradeList,function(e,a){return r("el-radio-button",{key:a,attrs:{label:e.index}},[t._v(t._s(e.name))])}))],1),t._v(" "),r("el-form-item",{attrs:{label:"班级：","label-width":t.formLabelWidth}},[t.formData.gradeId?r("el-radio-group",{model:{value:t.formData.classId,callback:function(e){t.formData.classId=e},expression:"formData.classId"}},t._l(t.gradeList[t.formData.gradeId].classList,function(e,a){return r("el-radio-button",{key:a,attrs:{label:e.index}},[t._v(t._s(e.name))])})):t._e()],1)],1),t._v(" "),r("li",{staticClass:"file-box"},[r("h3",[r("i",{staticClass:"icon-import-file"}),t._v("3、选择需要导入的EXCEL文件")]),t._v(" "),r("el-form-item",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.fielname,expression:"fielname"}],attrs:{type:"text",name:"textfield",id:"textfield"},domProps:{value:t.fielname},on:{input:function(e){e.target.composing||(t.fielname=e.target.value)}}}),t._v(" "),r("input",{staticClass:"select-btn",attrs:{type:"button",value:"选择文件"}}),t._v(" "),r("input",{staticClass:"upload-demo",attrs:{name:"file",accept:".xls,.xlsx,.csv",type:"file"},on:{change:function(e){t.fileChange(e)}}}),t._v(" "),r("el-button",{staticClass:"submit",attrs:{type:"primary","native-type":"submit "},on:{click:function(e){t.submitForm(e)}}},[t._v(" 导入")])],1),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.gradeId,expression:"formData.gradeId"}],attrs:{type:"hidden",name:"examId",value:""},domProps:{value:t.formData.gradeId},on:{input:function(e){e.target.composing||(t.formData.gradeId=e.target.value)}}}),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.classId,expression:"formData.classId"}],attrs:{type:"hidden",name:"classId",value:""},domProps:{value:t.formData.classId},on:{input:function(e){e.target.composing||(t.formData.classId=e.target.value)}}})],1)])]),t._v(" "),r("div",[r("div",{directives:[{name:"show",rawName:"v-show",value:t.isError,expression:"isError"}],staticStyle:{"margin-top":"20px","min-height":"500px"},attrs:{id:"div1"}},[r("div",{staticClass:"icon-cue",staticStyle:{"font-size":"14px",color:"red",padding:"10px 0 10px 0"}},[t._v(" 出错提示")]),t._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.errorArr,border:"",align:"center"}},[r("el-table-column",{attrs:{prop:"fileName",label:"问题文档",width:"180",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"row",label:"问题行数",width:"200",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"name",label:"出错人",width:"180",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"content",label:"问题描述",align:"center"}})],1)],1),t._v(" "),r("div",{attrs:{id:"error"}})])],1),t._v(" "),r("el-tab-pane",{attrs:{label:"操作指引",name:"two"}},[r("div",{staticClass:"explain"},[r("h3",[r("i",{staticClass:"icon-case"}),t._v("1、导入格式案例")]),t._v(" "),r("div",{staticClass:"report-remark"},[t._v("\n            参测学生基本信息表\n          ")]),t._v(" "),r("img",{attrs:{src:a(594)}}),t._v(" "),r("h3",[r("i",{staticClass:"icon-attentions"}),t._v("2、填写注意事项")]),t._v(" "),r("p",{staticClass:"son-remark"},[t._v("1、每个班或测评组学生基本信息单独建立一个EXCEL文件。")]),t._v(" "),r("p",{staticClass:"son-remark"},[t._v("2、文件命名规则：年级+班级（或组号）。")]),t._v(" "),r("p",{staticClass:"son-remark"},[t._v("3、请严格按照示例格式填写基础信息，“性别、民族、是否独生子女、是否住校、监护人、父亲学历、父亲职业、母亲学历、母亲职业”选项请从下拉菜单中选择。")]),t._v(" "),r("h3",[r("i",{staticClass:"icon-import-instructions"}),t._v("3、导入说明")]),t._v(" "),r("p",{staticClass:"son-remark"},[t._v("1、文件导入前请严格按照数据要求和格式要求填写。")]),t._v(" "),r("p",{staticClass:"son-remark"},[t._v("2、导入如果出现异常或数据问题，请修改后重新导入。")])])])],1)],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=39.86702916ba384967eb58.js.map