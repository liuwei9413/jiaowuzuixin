{"version":3,"sources":["webpack:///static/js/38.1fd8ab18d96502e856a5.js","webpack:///./src/pages/front/schoolRollFiler/schoolRollteacherbatch.vue","webpack:///./src/resources/front/imgs/teacherinfomoban.png","webpack:///schoolRollteacherbatch.vue","webpack:///./src/pages/front/schoolRollFiler/schoolRollteacherbatch.vue?6484","webpack:///./src/pages/front/schoolRollFiler/schoolRollteacherbatch.vue?6315","webpack:///./src/pages/front/schoolRollFiler/schoolRollteacherbatch.vue?019b"],"names":["webpackJsonp","552","module","exports","__webpack_require__","Component","595","p","629","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_1_jquery__","__WEBPACK_IMPORTED_MODULE_1_jquery___default","n","data","activeName","fileList","formData","formSubmited","isError","errorArr","fielname","baseURLPage","beforeCreate","mounted","this","baseURL","userInfo","JSON","parse","localStorage","getItem","console","log","schools","schoolId","methods","handleClick","tab","event","fileChange","e","files","target","dataTransfer","name","submitForm","preventDefault","useAlert","that","window","FormData","document","getElementById","a","ajax","url","staticResources","type","xhrFields","withCredentials","dataType","processData","contentType","success","res","code","$alert","message","confirmButtonText","$nextTick","anchor","animate","scrollTop","offset","top","688","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","736","content","locals","802","render","_vm","_h","$createElement","_c","_self","directives","rawName","expression","modifiers","lock","attrs","id","element-loading-text","staticClass","to","path","_v","on","tab-click","model","callback","$$v","label","method","action","enctype","href","domProps","input","$event","composing","accept","change","native-type","click","staticStyle","margin-top","min-height","font-size","color","padding","width","border","align","prop","src","staticRenderFns"],"mappings":"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","file":"static/js/38.1fd8ab18d96502e856a5.js","sourcesContent":["webpackJsonp([38],{\n\n/***/ 552:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(736)\n\nvar Component = __webpack_require__(191)(\n  /* script */\n  __webpack_require__(629),\n  /* template */\n  __webpack_require__(802),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 595:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/img/teacherinfomoban.0b14072.png\";\n\n/***/ }),\n\n/***/ 629:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery__ = __webpack_require__(193);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_jquery__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      activeName: 'one',\n      fileList: [],\n      formData: '',\n      formSubmited: false,\n      isError: false,\n      errorArr: [],\n      fielname: '',\n\n      baseURLPage: ''\n    };\n  },\n  beforeCreate: function beforeCreate() {},\n  mounted: function mounted() {\n    this.baseURLPage = this.baseURL;\n    this.userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\n    console.log(this.userInfo.schools.schoolId);\n  },\n\n  methods: {\n    handleClick: function handleClick(tab, event) {\n      console.log(tab, event);\n    },\n\n\n    fileChange: function fileChange(e) {\n      var files = e.target.files || e.dataTransfer.files;\n\n      this.fielname = files[0].name;\n    },\n    submitForm: function submitForm(e) {\n      e.preventDefault();\n      if (!this.fielname) {\n        this.useAlert('error', '请选择导入文件', function () {});\n        return;\n      }\n      var that = this;\n      that.formSubmited = true;\n      var formData = new window.FormData(document.getElementById('importScoreForm'));\n      __WEBPACK_IMPORTED_MODULE_1_jquery___default.a.ajax({\n        url: this.staticResources + '/schoolProvider/importTeacher?type=teacher&schoolId=' + that.userInfo.schools.schoolId,\n        type: \"post\",\n        data: formData,\n        xhrFields: { withCredentials: true },\n        dataType: 'json',\n        processData: false,\n        contentType: false,\n        success: function success(res) {\n          if (res.code == 200 || res.code == 400) {\n            that.formSubmited = false;\n\n            that.$alert(res.message, '提示', {\n              confirmButtonText: '确定'\n            });\n          } else {\n            that.formSubmited = false;\n            that.isError = true;\n            that.errorArr = res.data;\n            that.useAlert('error', '导入失败，请稍后重试', function () {});\n            that.$nextTick(function () {\n              var anchor = __WEBPACK_IMPORTED_MODULE_1_jquery___default()('#error');\n              __WEBPACK_IMPORTED_MODULE_1_jquery___default()(\"body,html\").animate({\n                scrollTop: anchor.offset().top\n              });\n            });\n          }\n        }\n      });\n    }\n  }\n\n});\n\n/***/ }),\n\n/***/ 688:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(523)();\n// imports\n\n\n// module\nexports.push([module.i, \"#schoolRollteacherbatc .dialog-footer{text-align:center}\", \"\", {\"version\":3,\"sources\":[\"E:/works/jiaowuzuixin/src/pages/front/schoolRollFiler/schoolRollteacherbatch.vue\"],\"names\":[],\"mappings\":\"AACA,sCACE,iBAAmB,CACpB\",\"file\":\"schoolRollteacherbatch.vue\",\"sourcesContent\":[\"\\n#schoolRollteacherbatc  .dialog-footer{\\n  text-align: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 736:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(688);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(524)(\"28ed2528\", content, true);\n\n/***/ }),\n\n/***/ 802:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading.lock\",\n      value: (_vm.formSubmited),\n      expression: \"formSubmited\",\n      modifiers: {\n        \"lock\": true\n      }\n    }],\n    attrs: {\n      \"id\": \"schoolRollteacherbatch\",\n      \"element-loading-text\": \"数据导入中...\"\n    }\n  }, [_c('div', {\n    staticClass: \"ev-page-return\"\n  }, [_c('router-link', {\n    staticClass: \" icon-back\",\n    attrs: {\n      \"to\": {\n        path: '/teacherManagement'\n      }\n    }\n  }, [_vm._v(\"返回 \")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"ev-report-page-panel\"\n  }, [_c('el-tabs', {\n    on: {\n      \"tab-click\": _vm.handleClick\n    },\n    model: {\n      value: (_vm.activeName),\n      callback: function($$v) {\n        _vm.activeName = $$v\n      },\n      expression: \"activeName\"\n    }\n  }, [_c('el-tab-pane', {\n    attrs: {\n      \"label\": \"批量导入\",\n      \"name\": \"one\"\n    }\n  }, [_c('el-form', {\n    attrs: {\n      \"method\": \"post\",\n      \"action\": \"/schadmin/import/importScore\",\n      \"enctype\": \"multipart/form-data\",\n      \"id\": \"importScoreForm\"\n    }\n  }, [_c('ol', [_c('li', {\n    staticClass: \"xiazai\"\n  }, [_c('h3', [_c('i', {\n    staticClass: \"icon-download-File\"\n  }), _vm._v(\"1、下载模板\")]), _vm._v(\" \"), _c('p', [_vm._v(\"点击下载导入模板   \"), _c('a', {\n    attrs: {\n      \"href\": _vm.baseURLPage + 'downloads/参测教师基本信息表.xls',\n      \"target\": \"_blank\"\n    }\n  }, [_c('el-button', {\n    staticClass: \"download\",\n    attrs: {\n      \"type\": \"primary\"\n    }\n  }, [_vm._v(\"下载\")])], 1)])]), _vm._v(\" \"), _c('li', {\n    staticClass: \"file-box\"\n  }, [_c('h3', [_c('i', {\n    staticClass: \"icon-import-file\"\n  }), _vm._v(\"2、选择需要导入的EXCEL文件\")]), _vm._v(\" \"), _c('el-form-item', [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.fielname),\n      expression: \"fielname\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"name\": \"textfield\",\n      \"id\": \"textfield\"\n    },\n    domProps: {\n      \"value\": (_vm.fielname)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.fielname = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('input', {\n    staticClass: \"select-btn\",\n    attrs: {\n      \"type\": \"button\",\n      \"value\": \"选择文件\"\n    }\n  }), _vm._v(\" \"), _c('input', {\n    staticClass: \"upload-demo\",\n    attrs: {\n      \"name\": \"file\",\n      \"accept\": \".xls,.xlsx,.csv\",\n      \"type\": \"file\"\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.fileChange($event)\n      }\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    staticClass: \"submit\",\n    attrs: {\n      \"type\": \"primary\",\n      \"native-type\": \"submit\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submitForm($event)\n      }\n    }\n  }, [_vm._v(\" 导入\")])], 1)], 1)])]), _vm._v(\" \"), _c('div', [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isError),\n      expression: \"isError\"\n    }],\n    staticStyle: {\n      \"margin-top\": \"20px\",\n      \"min-height\": \"500px\"\n    }\n  }, [_c('div', {\n    staticClass: \"icon-cue\",\n    staticStyle: {\n      \"font-size\": \"14px\",\n      \"color\": \"red\",\n      \"padding\": \"10px 0 10px 0\"\n    }\n  }, [_vm._v(\" 出错提示\")]), _vm._v(\" \"), _c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.errorArr,\n      \"border\": \"\",\n      \"align\": \"center\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"prop\": \"fileName\",\n      \"label\": \"问题文档\",\n      \"width\": \"180\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"row\",\n      \"label\": \"问题行数\",\n      \"width\": \"200\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"name\",\n      \"label\": \"出错人\",\n      \"width\": \"180\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"content\",\n      \"label\": \"问题描述\",\n      \"align\": \"center\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"error\"\n    }\n  })])], 1), _vm._v(\" \"), _c('el-tab-pane', {\n    attrs: {\n      \"label\": \"操作指引\",\n      \"name\": \"two\"\n    }\n  }, [_c('div', {\n    staticClass: \"explain\"\n  }, [_c('h3', [_c('i', {\n    staticClass: \"icon-case\"\n  }), _vm._v(\"1、导入格式案例\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"report-remark\"\n  }, [_vm._v(\"\\n          参测教师基本信息表\\n        \")]), _vm._v(\" \"), _c('img', {\n    attrs: {\n      \"src\": __webpack_require__(595)\n    }\n  }), _vm._v(\" \"), _c('h3', [_c('i', {\n    staticClass: \"icon-attentions\"\n  }), _vm._v(\"2、填写注意事项\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark\"\n  }, [_vm._v(\"1、标明橙色的项为必填项。\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark\"\n  }, [_vm._v(\"2、在填写下列信息时，请从备选项中选择符合自己情况的一项：\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark level-remark\"\n  }, [_vm._v(\"a  第一学历与最高学历（高中、中专、大专、本科、硕士及以上、其它）：\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark level-remark\"\n  }, [_vm._v(\"b  高校类别（本科提前批次、本科第一批次、本科第二批次、本科第三批次、专科、其它）\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark level-remark\"\n  }, [_vm._v(\"c  考取途径（统招、自考、成招、专升本、在职、其它）\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark level-remark\"\n  }, [_vm._v(\"d  职称（正高级、高级、一级、二级、三级、无）\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark level-remark\"\n  }, [_vm._v(\"e  专、兼职教研员（专职、兼职、否）\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark\"\n  }, [_vm._v(\"3、请严格按照示例格式填写基础信息。\")]), _vm._v(\" \"), _c('h3', [_c('i', {\n    staticClass: \"icon-import-instructions\"\n  }), _vm._v(\"3、导入说明\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark\"\n  }, [_vm._v(\"1、文件导入前请严格按照数据要求和格式要求填写。\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark\"\n  }, [_vm._v(\"2、导入如果出现异常或数据问题，请修改后重新导入。\")])])])], 1)], 1)])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/38.1fd8ab18d96502e856a5.js","\n/* styles */\nrequire(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-63f5a634\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./schoolRollteacherbatch.vue\")\n\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./schoolRollteacherbatch.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-63f5a634\\\"}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./schoolRollteacherbatch.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/front/schoolRollFiler/schoolRollteacherbatch.vue\n// module id = 552\n// module chunks = 38","module.exports = __webpack_public_path__ + \"static/img/teacherinfomoban.0b14072.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/resources/front/imgs/teacherinfomoban.png\n// module id = 595\n// module chunks = 38 40","<template>\n  <div id=\"schoolRollteacherbatch\" v-loading.lock=\"formSubmited\" element-loading-text=\"数据导入中...\">\n    <div class=\"ev-page-return\">\n      <router-link  :to=\"{ path:'/teacherManagement' }\" class=\" icon-back\">返回 </router-link>\n    </div>\n    <div class=\"ev-report-page-panel\">\n      <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\n        <el-tab-pane label=\"批量导入\" name=\"one\">\n          <el-form method=\"post\" action=\"/schadmin/import/importScore\" enctype=\"multipart/form-data\" id=\"importScoreForm\">\n            <ol>\n              <li class=\"xiazai\">\n                <h3><i class=\"icon-download-File\"></i>1、下载模板</h3>\n                <p >点击下载导入模板&nbsp&nbsp&nbsp<a :href=\"baseURLPage+'downloads/参测教师基本信息表.xls'\" target=\"_blank\"><el-button type=\"primary\" class=\"download\">下载</el-button></a></p>\n              </li>\n              <li class=\"file-box\">\n                <h3><i class=\"icon-import-file\"></i>2、选择需要导入的EXCEL文件</h3>\n                <el-form-item>\n                  <input type='text' name='textfield' id='textfield' v-model=\"fielname\">\n                  <input type='button' class='select-btn' value='选择文件'/>\n                  <input  @change=\"fileChange($event)\"\n                          name=\"file\"\n                          class=\"upload-demo\"\n                          accept=\".xls,.xlsx,.csv\"\n                          type=\"file\">\n                  <!-- multiple=\"multiple\"-->\n                  <el-button type=\"primary\" class=\"submit\" native-type=\"submit\"  v-on:click=\"submitForm($event)\"> 导入</el-button>\n                </el-form-item>\n              </li>\n            </ol>\n          </el-form>\n          <!--异常处理-->\n          <div >\n            <div style=\"margin-top: 20px;min-height:500px;\" v-show=\"isError\">\n              <div class=\"icon-cue\" style=\"font-size: 14px;color:red;padding: 10px 0 10px 0;\"> 出错提示</div>\n              <el-table\n                :data=\"errorArr\"\n                border\n                style=\"width: 100%\" align=\"center\">\n                <el-table-column\n                  prop=\"fileName\"\n                  label=\"问题文档\"\n                  width=\"180\"\n                  align=\"center\">\n                </el-table-column>\n                <el-table-column\n                  prop=\"row\"\n                  label=\"问题行数\"\n                  width=\"200\"\n                  align=\"center\">\n                </el-table-column>\n                <el-table-column\n                  prop=\"name\"\n                  label=\"出错人\"\n                  width=\"180\"\n                  align=\"center\">\n                </el-table-column>\n                <el-table-column\n                  prop=\"content\"\n                  label=\"问题描述\"\n                  align=\"center\">\n                </el-table-column>\n              </el-table>\n            </div>\n            <div id=\"error\"></div>\n          </div>\n        </el-tab-pane>\n        <el-tab-pane label=\"操作指引\" name=\"two\">\n\n        <!--说明-->\n        <div class=\"explain\">\n          <h3><i class=\"icon-case\"></i>1、导入格式案例</h3>\n          <div class=\"report-remark\">\n            参测教师基本信息表\n          </div>\n          <img  src=\"../../../resources/front/imgs/teacherinfomoban.png\">\n          <h3><i class=\"icon-attentions\"></i>2、填写注意事项</h3>\n          <p class=\"son-remark\">1、标明橙色的项为必填项。</p>\n          <p class=\"son-remark\">2、在填写下列信息时，请从备选项中选择符合自己情况的一项：</p>\n          <p class=\"son-remark level-remark\">a&nbsp;&nbsp;第一学历与最高学历（高中、中专、大专、本科、硕士及以上、其它）：</p>\n          <p class=\"son-remark level-remark\">b&nbsp;&nbsp;高校类别（本科提前批次、本科第一批次、本科第二批次、本科第三批次、专科、其它）</p>\n          <p class=\"son-remark level-remark\">c&nbsp;&nbsp;考取途径（统招、自考、成招、专升本、在职、其它）</p>\n          <p class=\"son-remark level-remark\">d&nbsp;&nbsp;职称（正高级、高级、一级、二级、三级、无）</p>\n          <p class=\"son-remark level-remark\">e&nbsp;&nbsp;专、兼职教研员（专职、兼职、否）</p>\n          <p class=\"son-remark\">3、请严格按照示例格式填写基础信息。</p>\n          <h3><i class=\"icon-import-instructions\"></i>3、导入说明</h3>\n          <p class=\"son-remark\">1、文件导入前请严格按照数据要求和格式要求填写。</p>\n          <p class=\"son-remark\">2、导入如果出现异常或数据问题，请修改后重新导入。</p>\n        </div>\n      </el-tab-pane>\n      </el-tabs>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Vue from 'vue'\n  import $ from 'jquery'\n  export default {\n    data() {\n      return {\n        activeName: 'one',//切换默认显示内容\n        fileList:[],\n        formData:'',\n        formSubmited: false,\n        isError:false,\n        errorArr:[],//储存批量导入的异常\n        fielname:'',\n      /*\n\n        formLabelWidth: '120px',\n        dialogFormVisible: false,\n\n        addOrEdit: 0,\n        paperList: {\n        },\n        schoolYears: [],\n        schoolYearId: '',\n        firstSchoolYearId: '',\n        errorMsg: '',\n        showErrorMsg: false*/\n        baseURLPage: ''\n      };\n    },\n    beforeCreate() {\n\n    },\n    mounted() {\n      this.baseURLPage = this.baseURL;\n      this.userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\n      console.log(this.userInfo.schools.schoolId)\n    },\n    methods: {\n//tab切换\n      handleClick(tab, event) {\n        console.log(tab, event);\n      },\n\n\n      fileChange:function (e) {\n//        console.log(e)\n        let files = e.target.files || e.dataTransfer.files;\n\n        this.fielname = files[0].name;\n\n//        console.log(this.filename)\n\n      },\n      submitForm: function(e) {\n        e.preventDefault()\n        if(!this.fielname){\n          this.useAlert('error','请选择导入文件',function () {});\n          return;\n        }\n        let that = this\n        that.formSubmited = true\n        let formData = new window.FormData(document.getElementById('importScoreForm'));\n        $.ajax({\n          url:this.staticResources+'/schoolProvider/importTeacher?type=teacher&schoolId='+that.userInfo.schools.schoolId,\n          type:\"post\",\n          data:formData,\n          xhrFields: {withCredentials: true},\n          dataType: 'json',\n          processData:false,\n          contentType:false,\n          success:function(res){\n            if(res.code == 200||res.code == 400){\n              that.formSubmited = false\n//            console.log(data);\n              that.$alert(res.message, '提示', {\n                confirmButtonText: '确定',\n              });\n            }else {\n              that.formSubmited = false\n              that.isError=true;\n              that.errorArr=res.data;\n              that.useAlert('error', '导入失败，请稍后重试', function() {});\n              that.$nextTick(function () {\n                var anchor =$('#error');\n                $(\"body,html\").animate({\n                  scrollTop: anchor.offset().top\n                })\n\n              })\n            /*  let row=errorArr[0].row;\n//              let content=errorArr[0].content;\n//              console.log(row)\n//              console.log(content)\n              let errorInfo=''\n              errorArr.forEach((item,index) =>{\n                errorInfo+=item.row + item.content\n              });\n              that.$alert(res.message+errorInfo, '提示', {\n               confirmButtonText: '确定',\n\n               });*/\n            }\n\n          },\n          /*error:function(res){\n            alert(2)\n            that.formSubmited = false\n            if(res.code == 500){\n              that.formSubmited = false\n//            console.log(data);\n              let errorArr=res.data;\n              console.log(errorArr);\n//              let row=errorArr[0].row;\n//              let content=errorArr[0].content;\n//              console.log(row)\n//              console.log(content)\n              let errorInfo='';\n              errorArr.forEach( (item,index) =>{\n                errorInfo+=item.row + item.content\n              });\n              that.$alert(res.message+errorInfo, '提示', {\n                confirmButtonText: '确定',\n\n              });\n            }\n          }*/\n        });\n      }\n    }\n\n  }\n\n\n</script>\n\n<style>\n  #schoolRollteacherbatc  .dialog-footer{\n    text-align: center;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// schoolRollteacherbatch.vue?3927664f","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"#schoolRollteacherbatc .dialog-footer{text-align:center}\", \"\", {\"version\":3,\"sources\":[\"E:/works/jiaowuzuixin/src/pages/front/schoolRollFiler/schoolRollteacherbatch.vue\"],\"names\":[],\"mappings\":\"AACA,sCACE,iBAAmB,CACpB\",\"file\":\"schoolRollteacherbatch.vue\",\"sourcesContent\":[\"\\n#schoolRollteacherbatc  .dialog-footer{\\n  text-align: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-63f5a634\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/front/schoolRollFiler/schoolRollteacherbatch.vue\n// module id = 688\n// module chunks = 38","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-63f5a634\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./schoolRollteacherbatch.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"28ed2528\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-63f5a634\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/front/schoolRollFiler/schoolRollteacherbatch.vue\n// module id = 736\n// module chunks = 38","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading.lock\",\n      value: (_vm.formSubmited),\n      expression: \"formSubmited\",\n      modifiers: {\n        \"lock\": true\n      }\n    }],\n    attrs: {\n      \"id\": \"schoolRollteacherbatch\",\n      \"element-loading-text\": \"数据导入中...\"\n    }\n  }, [_c('div', {\n    staticClass: \"ev-page-return\"\n  }, [_c('router-link', {\n    staticClass: \" icon-back\",\n    attrs: {\n      \"to\": {\n        path: '/teacherManagement'\n      }\n    }\n  }, [_vm._v(\"返回 \")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"ev-report-page-panel\"\n  }, [_c('el-tabs', {\n    on: {\n      \"tab-click\": _vm.handleClick\n    },\n    model: {\n      value: (_vm.activeName),\n      callback: function($$v) {\n        _vm.activeName = $$v\n      },\n      expression: \"activeName\"\n    }\n  }, [_c('el-tab-pane', {\n    attrs: {\n      \"label\": \"批量导入\",\n      \"name\": \"one\"\n    }\n  }, [_c('el-form', {\n    attrs: {\n      \"method\": \"post\",\n      \"action\": \"/schadmin/import/importScore\",\n      \"enctype\": \"multipart/form-data\",\n      \"id\": \"importScoreForm\"\n    }\n  }, [_c('ol', [_c('li', {\n    staticClass: \"xiazai\"\n  }, [_c('h3', [_c('i', {\n    staticClass: \"icon-download-File\"\n  }), _vm._v(\"1、下载模板\")]), _vm._v(\" \"), _c('p', [_vm._v(\"点击下载导入模板   \"), _c('a', {\n    attrs: {\n      \"href\": _vm.baseURLPage + 'downloads/参测教师基本信息表.xls',\n      \"target\": \"_blank\"\n    }\n  }, [_c('el-button', {\n    staticClass: \"download\",\n    attrs: {\n      \"type\": \"primary\"\n    }\n  }, [_vm._v(\"下载\")])], 1)])]), _vm._v(\" \"), _c('li', {\n    staticClass: \"file-box\"\n  }, [_c('h3', [_c('i', {\n    staticClass: \"icon-import-file\"\n  }), _vm._v(\"2、选择需要导入的EXCEL文件\")]), _vm._v(\" \"), _c('el-form-item', [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.fielname),\n      expression: \"fielname\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"name\": \"textfield\",\n      \"id\": \"textfield\"\n    },\n    domProps: {\n      \"value\": (_vm.fielname)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.fielname = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('input', {\n    staticClass: \"select-btn\",\n    attrs: {\n      \"type\": \"button\",\n      \"value\": \"选择文件\"\n    }\n  }), _vm._v(\" \"), _c('input', {\n    staticClass: \"upload-demo\",\n    attrs: {\n      \"name\": \"file\",\n      \"accept\": \".xls,.xlsx,.csv\",\n      \"type\": \"file\"\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.fileChange($event)\n      }\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    staticClass: \"submit\",\n    attrs: {\n      \"type\": \"primary\",\n      \"native-type\": \"submit\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submitForm($event)\n      }\n    }\n  }, [_vm._v(\" 导入\")])], 1)], 1)])]), _vm._v(\" \"), _c('div', [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isError),\n      expression: \"isError\"\n    }],\n    staticStyle: {\n      \"margin-top\": \"20px\",\n      \"min-height\": \"500px\"\n    }\n  }, [_c('div', {\n    staticClass: \"icon-cue\",\n    staticStyle: {\n      \"font-size\": \"14px\",\n      \"color\": \"red\",\n      \"padding\": \"10px 0 10px 0\"\n    }\n  }, [_vm._v(\" 出错提示\")]), _vm._v(\" \"), _c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.errorArr,\n      \"border\": \"\",\n      \"align\": \"center\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"prop\": \"fileName\",\n      \"label\": \"问题文档\",\n      \"width\": \"180\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"row\",\n      \"label\": \"问题行数\",\n      \"width\": \"200\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"name\",\n      \"label\": \"出错人\",\n      \"width\": \"180\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"content\",\n      \"label\": \"问题描述\",\n      \"align\": \"center\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"error\"\n    }\n  })])], 1), _vm._v(\" \"), _c('el-tab-pane', {\n    attrs: {\n      \"label\": \"操作指引\",\n      \"name\": \"two\"\n    }\n  }, [_c('div', {\n    staticClass: \"explain\"\n  }, [_c('h3', [_c('i', {\n    staticClass: \"icon-case\"\n  }), _vm._v(\"1、导入格式案例\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"report-remark\"\n  }, [_vm._v(\"\\n          参测教师基本信息表\\n        \")]), _vm._v(\" \"), _c('img', {\n    attrs: {\n      \"src\": require(\"../../../resources/front/imgs/teacherinfomoban.png\")\n    }\n  }), _vm._v(\" \"), _c('h3', [_c('i', {\n    staticClass: \"icon-attentions\"\n  }), _vm._v(\"2、填写注意事项\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark\"\n  }, [_vm._v(\"1、标明橙色的项为必填项。\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark\"\n  }, [_vm._v(\"2、在填写下列信息时，请从备选项中选择符合自己情况的一项：\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark level-remark\"\n  }, [_vm._v(\"a  第一学历与最高学历（高中、中专、大专、本科、硕士及以上、其它）：\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark level-remark\"\n  }, [_vm._v(\"b  高校类别（本科提前批次、本科第一批次、本科第二批次、本科第三批次、专科、其它）\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark level-remark\"\n  }, [_vm._v(\"c  考取途径（统招、自考、成招、专升本、在职、其它）\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark level-remark\"\n  }, [_vm._v(\"d  职称（正高级、高级、一级、二级、三级、无）\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark level-remark\"\n  }, [_vm._v(\"e  专、兼职教研员（专职、兼职、否）\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark\"\n  }, [_vm._v(\"3、请严格按照示例格式填写基础信息。\")]), _vm._v(\" \"), _c('h3', [_c('i', {\n    staticClass: \"icon-import-instructions\"\n  }), _vm._v(\"3、导入说明\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark\"\n  }, [_vm._v(\"1、文件导入前请严格按照数据要求和格式要求填写。\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark\"\n  }, [_vm._v(\"2、导入如果出现异常或数据问题，请修改后重新导入。\")])])])], 1)], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-63f5a634\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/pages/front/schoolRollFiler/schoolRollteacherbatch.vue\n// module id = 802\n// module chunks = 38"],"sourceRoot":""}