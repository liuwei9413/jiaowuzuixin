webpackJsonp([20],{531:function(e,t,o){o(724);var i=o(191)(o(606),o(790),null,null);e.exports=i.exports},565:function(e,t,o){e.exports={default:o(566),__esModule:!0}},566:function(e,t,o){var i=o(49),a=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},575:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"ElIcon",props:{name:String}}},582:function(e,t,o){var i=o(191)(o(575),o(585),null,null);e.exports=i.exports},585:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("i",{class:"el-icon-"+e.name})},staticRenderFns:[]}},606:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(192),a=o.n(i),s=o(565),n=o.n(s),l=o(193),r=o.n(l),d=o(582),c=o.n(d);Array.prototype.remove||(Array.prototype.remove=function(e){var t=this.indexOf(e);-1!==t&&this.splice(t,1)});var h=[{checked:!1,name:"一年级",display:!0},{checked:!1,name:"二年级",display:!0},{checked:!1,name:"三年级",display:!0},{checked:!1,name:"四年级",display:!0},{checked:!1,name:"五年级",display:!0},{checked:!1,name:"六年级",display:!0},{checked:!1,name:"初一",display:!0},{checked:!1,name:"初二",display:!0},{checked:!1,name:"初三",display:!0},{checked:!1,name:"初四",display:!1},{checked:!1,name:"高一",display:!0},{checked:!1,name:"高二",display:!0},{checked:!1,name:"高三",display:!0}];t.default={components:{ElIcon:c.a},data:function(){var e=this,t=/select|update|delete|truncate|join|union|exec|insert|drop|count|script|src|alert|window|document|location|>|<|%/i,o=function(o,i,a){null==i||""==i?a(new Error("学校名称不能为空！")):i.length>30?a(new Error("最多可输入30个字！")):t.test(i)?a(new Error("输入中不能包含特殊字符！")):i&&e.isNeedValidate?a(new Error("学校名称不能重复！")):a()},i=function(e,o,i){null==o||""==o?i(new Error("姓名不能为空！")):o.length<2?i(new Error("姓名输入在2~40个字！")):o.length>40?i(new Error("姓名输入在2~40个字！")):t.test(o)?i(new Error("输入中不能包含特殊字符！")):i()},a=function(e,o,i){null==o||""==o?i():o.length>50?i(new Error("最多可输入50个字！")):t.test(o)?i(new Error("输入中不能包含特殊字符！")):i()},s=function(e,o,i){null==o||""==o?i():o.length>200?i(new Error("最多可输入200个字！")):t.test(o)?i(new Error("输入中不能包含特殊字符！")):i()};return{isFilterZS:!1,isReturnPage:!1,userInfo:"",orgListsData:[],orgNameStr:"",educationIds:[],orgName:"",grads:"",selectedGrad:[],codeVal:"1",indexStart:"",indexEnd:"",ruleForm:{orgId:"",name:"",schoolType:"",codeType:"",codeStart:"",codeEnd:"",position:"",address:"",describe:""},schoolId:"",isSaveSchool:!1,defaultMaxLevel:0,defaultProvince:{id:"",name:"",level:1},defaultCity:{id:"",name:"",level:2},defaultCounty:{id:"",name:"",level:3},province:[],city:[],county:[],selectedProvince:{},selectedCity:{},selectedCounty:{},dzProvince:[],dzCity:[],dzCounty:[],selectedDZProvince:{},selectedDZCity:{},selectedDZCounty:{},addrOrgNameStr:"",isAdd:!1,rules:{name:[{required:!0,validator:o,trigger:"blur change"}],schoolType:[{required:!0,message:"学校类型不能为空！",trigger:"change"}],codeType:[{required:!0,validator:function(e,t,o){null==t||""==t?o(new Error("学制不能为空！")):o()},trigger:"blur"}],codeStart:[{required:!0,type:"number",message:"教学范围不能为空！",trigger:"blur"}],position:[{required:!0,message:"地理位置不能为空！",trigger:"change"}],address:[{validator:a,trigger:"blur"}],describe:[{validator:s,trigger:"blur"}]},orgUsers:[],orgUserTotal:0,orgUserFormAdd:{name:"",phone:""},currentInfo:"",orgUserStutas:"",principalId:"",orgUserFormEdit:{name:"",phone:""},orgUserAddRules:{name:{required:!0,validator:i,trigger:"blur"},phone:[{required:!0,message:"手机号不能为空！",trigger:"blur"},{pattern:/^1[34578]\d{9}$/,message:"请输入11位手机号！",trigger:"blur"}]},dialogVisibleAdd:!1,dialogVisibleEdit:!1,multipleSelection:[],formInline:{query:""},isNeedValidate:!1}},beforeMount:function(){this.userInfo=JSON.parse(localStorage.getItem("userInfo")),this.defaultMaxLevel=this.userInfo.education.orgInfo.length,this.defaultProvince=this.userInfo.education.orgInfo[0]||{id:"",name:"",level:1},this.defaultCity=this.userInfo.education.orgInfo[1]||{id:"",name:"",level:2},this.defaultCounty=this.userInfo.education.orgInfo[2]||{id:"",name:"",level:3}},mounted:function(){this.getAreaTree(),null!=this.defaultProvince.id&&""!=this.defaultProvince.id&&this.provinceChange(this.defaultProvince),null!=this.defaultCity.id&&""!=this.defaultCity.id&&this.cityChange(this.defaultCity),this.getDzProvinceList()},watch:{"ruleForm.name":{handler:function(e){this.isNeedValidate=!1},deep:!0}},methods:{isEmptyData:function(e){return void 0===e||null===e||""===e},convertSchoolType:function(e){return["","大学","高中","初中","完中","九年一贯制","小学","教学点","完小","职业高中(职高)","中等专业学校(中专)","技工学校(技校)","普通高等学校(体校、军校)","十二年一贯制"][e||0]||""},convertCodeType:function(e){return"5-4"==e?"五四制":"六三制"},convertGrads:function(e){for(var t="",o=0;o<e.length;o++){var i=e[o];1==i.checked&&(t+=""==t?i.name:"、"+i.name)}return t},convertPosition:function(e){return["","中心城区","城乡结合","近郊","远郊","山区"][e||0]||""},checkChangeField:function(){var e=this.isEmptyData(this.ruleForm.name),t=this.isEmptyData(this.ruleForm.schoolType),o=1==this.codeVal,i=this.isEmptyData(this.ruleForm.codeStart),a=this.isEmptyData(this.ruleForm.codeEnd),s=this.isEmptyData(this.ruleForm.position),n=this.isEmptyData(this.ruleForm.address),l=this.isEmptyData(this.ruleForm.describe),r=this.getSaveOrgId().id,d=this.userInfo.education.orgInfo[this.userInfo.education.orgInfo.length-1].id;return 2==this.defaultMaxLevel&&0==this.isFilterZS?d=this.selectedCounty.id:1==this.defaultMaxLevel&&0==this.isFilterZS&&(d=this.selectedCity.id),[r==d,e,t,o,i,a,s,n,l,""==this.getSaveAddrOrgId().id]},toEduSchoolMgr:function(){var e=this;if(this.isReturnPage=!0,this.isSaveSchool)this.$router.go(-1);else{-1!=this.checkChangeField().indexOf(!1)?this.$confirm("当前界面存在编辑操作是否保存？","提示",{confirmButtonText:"是",cancelButtonText:"否"}).then(function(){e.submitForm()}).catch(function(){e.$router.go(-1)}):this.$router.go(-1)}},getAreaTree:function(){var e=this;this.$ajax("/org/getTree").then(function(t){e.province=t.data}).catch(function(){})},provinceChange:function(e){var t=this;if(this.selectedCity={},this.selectedCounty={},this.selectedProvince=e,null!=e.id&&""!=e.id){var o={parentId:e.id};this.$ajax("/org/getChildren",o).then(function(e){t.city=e.data,1==t.defaultMaxLevel&&(t.defaultCity.name=t.city[0].name,0==t.isFilterZS&&(t.selectedCity.id=t.city[0].id,t.selectedCity.name=t.city[0].name))}).catch(function(){})}},cityChange:function(e){var t=this;if(this.selectedCounty={},this.selectedCity=e,null!=e.id&&""!=e.id){var o={parentId:e.id};this.$ajax("/org/getChildren",o).then(function(e){t.county=e.data,(2==t.defaultMaxLevel||null!=t.selectedCity.id&&""!=t.selectedCity.id)&&(t.defaultCounty.name=t.county[0].name,0==t.isFilterZS&&(t.selectedCounty.id=t.county[0].id,t.selectedCounty.name=t.county[0].name))}).catch(function(){})}},countyChange:function(e){this.selectedCounty=e},getDzProvinceList:function(){var e=this,t={id:0,type:2};this.$ajax("/schadmin/getAreaChilds",t).then(function(t){e.dzProvince=t.data}).catch(function(){})},dzProvinceChange:function(e){var t=this;if(this.selectedDZCity={},this.selectedDZCounty={},null!=e.id&&""!=e.id){var o={id:e.id,type:2};this.$ajax("/schadmin/getAreaChilds",o).then(function(e){t.dzCity=e.data}).catch(function(){})}},dzCityChange:function(e){var t=this;if(this.selectedDZCounty={},null!=e.id&&""!=e.id){var o={id:e.id,type:2};this.$ajax("/schadmin/getAreaChilds",o).then(function(e){t.dzCounty=e.data}).catch(function(){})}},dzCountyChange:function(e){this.selectedDZCounty=e},changeSchoolType:function(){this.changeSchooling()},defaultSetCodeCtrl:function(){this.ruleForm.codeStart=1,this.indexStart=0,2==this.codeVal?(this.grads[5].display=!1,this.grads[9].display=!0):(this.grads[5].display=!0,this.grads[9].display=!1),6!=this.ruleForm.schoolType&&8!=this.ruleForm.schoolType||(this.ruleForm.codeEnd=7-(Number(this.codeVal)||1),this.indexEnd=6-(Number(this.codeVal)||1)),3!=this.ruleForm.schoolType&&5!=this.ruleForm.schoolType||(3==this.ruleForm.schoolType&&(2==this.codeVal?(this.ruleForm.codeStart=6,this.indexStart=6):(this.ruleForm.codeStart=7,this.indexStart=6)),this.ruleForm.codeEnd=9,this.indexEnd=9),-1!=[2,4,9,10].indexOf(Number(this.ruleForm.schoolType)||0)&&(4==this.ruleForm.schoolType&&1==this.codeVal?(this.ruleForm.codeStart=7,this.indexStart=6):4==this.ruleForm.schoolType&&2==this.codeVal?(this.ruleForm.codeStart=6,this.indexStart=6):(this.ruleForm.codeStart=10,this.indexStart=10),this.ruleForm.codeEnd=12,this.indexEnd=12),13==this.ruleForm.schoolType&&(this.ruleForm.codeEnd=12,this.indexEnd=12)},adjustCodeBetween:function(e,t){this.indexEnd=t,this.indexStart=e,2==this.codeVal?(this.ruleForm.codeEnd=t>=5&&t<=12?t:Number(t)+1,this.ruleForm.codeStart=e>=5&&e<=12?e:Number(e)+1):(this.ruleForm.codeEnd=t>=10&&t<=12?t:Number(t)+1,this.ruleForm.codeStart=e>=10&&e<=12?e:Number(e)+1)},changeSchooling:function(){if(this.grads=JSON.parse(n()(h)),this.selectedGrad=[],this.ruleForm.schoolType){this.defaultSetCodeCtrl();for(var e=this.indexStart;e<=this.indexEnd;e++)2==this.codeVal&&5==e||1==this.codeVal&&9==e||(this.grads[e].checked=!0,this.selectedGrad.push(e))}},setSelectedGradByBetween:function(e){var t=this;if(null!=t.selectedGrad&&0==t.selectedGrad.length)this.ruleForm.codeStart="",this.ruleForm.codeEnd="",this.$refs.ruleForm.validateField("codeStart");else{if(null!=t.selectedGrad&&t.selectedGrad.length>0){var o=Math.min.apply(Math,t.selectedGrad.sort(function(e,t){return e-t})),i=Math.max.apply(Math,t.selectedGrad.sort(function(e,t){return e-t})),a=-1;a=2==this.codeVal?5:9;for(var s=o;s<=i;s++)a!=s&&e.push(s)}var n=_.unionWith(t.selectedGrad,e,_.isEqual);t.selectedGrad=n}},changeGrad:function(e,t){var o=this,i=[];if(t.currentTarget.checked?(o.selectedGrad.push(e),o.grads[e].checked=!0):(o.selectedGrad.remove(e),o.grads[e].checked=!1),this.setSelectedGradByBetween(i),o.selectedGrad.length>0){for(var a=Math.min.apply(Math,o.selectedGrad.sort(function(e,t){return e-t})),s=Math.max.apply(Math,o.selectedGrad.sort(function(e,t){return e-t})),n=a;n<=s;n++)!o.grads[n].checked&&o.grads[n].display&&(o.grads[n].checked=!0);this.adjustCodeBetween(a,s)}this.$refs.ruleForm.validateField("codeStart")},getSaveOrgId:function(){var e={id:"",name:"",orgNameStr:""};if(3==this.defaultMaxLevel)e.id=this.defaultCounty.id,e.name=this.defaultCounty.name,e.orgNameStr=this.defaultProvince.name+""+this.defaultCity.name+this.defaultCounty.name;else if(2==this.defaultMaxLevel){var t=this.defaultProvince.name+""+this.defaultCity.name;e.id=this.selectedCounty.id,e.name=this.selectedCounty.name,e.orgNameStr=t+""+this.selectedCounty.name,(null==this.selectedCounty.name||""==this.selectedCounty.name||this.isFilterZS&&"市直属"==this.selectedCounty.name)&&(e.id=this.defaultCity.id,e.name=this.defaultCounty.name,e.orgNameStr=t+""+this.defaultCounty.name)}else if(1==this.defaultMaxLevel){var o=this.defaultProvince.name;null==this.selectedCounty.name||""==this.selectedCounty.name||this.isFilterZS&&"市直属"==this.selectedCounty.name?null==this.selectedCity.name||""==this.selectedCity.name||this.isFilterZS&&("省直属"==this.selectedCity.name||"市直属"==this.selectedCity.name)?(e.id=this.defaultProvince.id,e.name=this.defaultProvince.name):(e.id=this.selectedCity.id,e.name=this.selectedCity.name):(e.id=this.selectedCounty.id,e.name=this.selectedCounty.name),e.orgNameStr=o+""+(this.selectedCity.name||this.defaultCity.name)+(this.selectedCounty.name||this.defaultCounty.name)}return e},getSaveAddrOrgId:function(){var e={id:"",name:"",addrOrgNameStr:""};return null!=this.selectedDZCounty.id&&""!=this.selectedDZCounty.id?(e.id=this.selectedDZCounty.id,e.name=this.selectedDZCounty.name,e.addrOrgNameStr=this.selectedDZProvince.name+" "+this.selectedDZCity.name+" "+this.selectedDZCounty.name):null!=this.selectedDZCity.id&&""!=this.selectedDZCity.id?(e.id=this.selectedDZCity.id,e.name=this.selectedDZCity.name,e.addrOrgNameStr=this.selectedDZProvince.name+" "+this.selectedDZCity.name):null!=this.selectedDZProvince.id&&""!=this.selectedDZProvince.id&&(e.id=this.selectedDZProvince.id,e.name=this.selectedDZProvince.name,e.addrOrgNameStr=this.selectedDZProvince.name),e},setScrollTop:function(e){var t=navigator.userAgent,o=t.indexOf("Opera")>-1,i="";o?i="Opera":t.indexOf("Firefox")>-1?i="FF":t.indexOf("Chrome")>-1?i="Chrome":t.indexOf("Safari")>-1?i="Safari":t.indexOf("compatible")>-1&&t.indexOf("MSIE")>-1&&!o&&(i="IE"),"FF"==i?document.documentElement.scrollTop=e.offsetTop:document.body.scrollTop=e.offsetTop},submitForm:function(e){var t=this;this.ruleForm.codeType=2==this.codeVal?"5-4":"6-3";var o=this.getSaveOrgId(),i=this.getSaveAddrOrgId(),s=a()(this.ruleForm,{delFlag:0},{orgId:o.id,addressOrgId:i.id}),n=this;this.$refs.ruleForm.validate(function(e){if(!e)return t.useAlert("error","请先填写相关信息!",function(){}),!1;t.$ajax("/eduadmin/saveOneSchool",s).then(function(e){200==e.code?(t.schoolId=e.data,t.buildGrade(),t.useAlert("success","保存成功!",function(){n.isAdd=!0,n.isSaveSchool=!0,n.orgNameStr=o.orgNameStr,n.addrOrgNameStr=i.addrOrgNameStr,r()("html,body").animate({scrollTop:r()("#userListDiv2").offset().top},1e3)})):400==e.code&&-1!=e.data.indexOf("重复的姓名")?(t.useAlert("error","保存失败：学校名称不能重复",function(){n.isAdd=!1}),t.isNeedValidate=!0,t.$refs.ruleForm.validateField("name")):t.useAlert("error","保存失败："+e.message,function(){n.isAdd=!1})})})},buildGrade:function(e){this.$ajax("/schadmin/buildGrade",{schoolId:this.schoolId}).then(function(e){})},getOrgUserLists:function(e){var t=this;this.$ajax("/schadmin/justShowSchadmin",{id:this.schoolId}).then(function(e){200==e.code&&(t.orgUsers=e.data,t.orgUserTotal=t.orgUsers.length)})},addOrgUser:function(){this.orgUserFormAdd={},this.dialogVisibleAdd=!0},orgUserFormAddData:function(){var e=this;this.$refs.orgUserFormAdd.validate(function(t){if(!t)return!1;var o={schoolId:e.schoolId,name:e.orgUserFormAdd.name,phoneNumber:e.orgUserFormAdd.phone||""};e.$ajax("/eduadmin/saveSchoolAdmin",o).then(function(t){200==t.code?(e.useAlert("success","添加成功!",function(){}),e.dialogVisibleAdd=!1,e.getOrgUserLists(e.schoolId)):(e.useAlert("error",t.message,function(){}),e.dialogVisibleAdd=!1)})})},cancelUserAddData:function(){this.dialogVisibleAdd=!1,this.orgUserFormAdd={name:"",phone:""},this.$refs.orgUserFormAdd.resetFields()},orgUsersEdit:function(e,t){this.dialogVisibleEdit=!0,this.orgUserFormEdit.name=t.name,this.orgUserFormEdit.phone=t.phone,this.principalId=t.id},orgUserFormEditData:function(){var e=this;this.$refs.orgUserFormEdit.validate(function(t){if(!t)return!1;var o={schoolId:e.schoolId,userId:e.currentInfo.id,name:e.orgUserFormEdit.name,id:e.principalId};e.$ajax("/eduadmin/updateSchoolAdmin",o).then(function(t){200==t.code&&(e.useAlert("success","保存成功",function(){}),e.getOrgUserLists(e.schoolId),e.dialogVisibleEdit=!1)}).catch(function(){})})},cancelUserEditData:function(){this.dialogVisibleEdit=!1,this.orgUserFormEdit={name:"",phone:""},this.$refs.orgUserFormEdit.resetFields()},getOrgUserCurrentInfo:function(e,t,o,i){this.currentInfo=e},getOrgUserSelectState:function(e){var t=this,o={orgId:this.orgInfoId,userId:this.currentInfo.id,state:e};this.$ajax("/eduadmin/changeOrgUserStatus",o).then(function(e){200==e.code&&(t.useAlert("success","状态修改成功",function(){}),t.getOrgUserLists(t.orgInfoId))}).catch(function(){})},orgUsersDelete:function(e,t){var o=this;this.$confirm("确定要删除选中教师吗?","提示",{confirmButtonText:"删除",cancelButtonText:"取消"}).then(function(){var e={userId:t.id,schoolId:o.schoolId};o.$ajax("/eduadmin/deleteSchoolAdmin",e).then(function(e){200==e.code&&o.useAlert("success","删除成功",function(){}),o.getOrgUserLists(o.orgInfoId)})}).catch(function(){})},orgUsersSelectionChange:function(e){this.multipleSelection=e},orgUsersRestPwd:function(e,t){var o=this;this.$confirm("是否要重置密码为手机号码后六位?","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){var e={phone:t.phone};o.$ajax("/password/reset",e).then(function(e){200==e.code&&o.$alert(e.message,"新密码",{confirmButtonText:"确定"})})}).catch(function(){})},orgUsersBatchDelete:function(e,t){var o=this,i=this.multipleSelection.map(function(e){return e.id}).toString();this.$confirm("确定要删除选中教师吗?","提示",{confirmButtonText:"删除",cancelButtonText:"取消"}).then(function(){var e={userId:i,orgId:o.orgInfoId};o.$ajax("/eduadmin/delOrgUser",e).then(function(e){200==e.code&&o.useAlert("success","删除成功",function(){}),o.getOrgUserLists(o.orgInfoId)})}).catch(function(){})}},created:function(){this.grads=JSON.parse(n()(h))},resetForm:function(e){this.$refs[e].resetFields()},beforeRouteLeave:function(e,t,o){var i=this;if(this.isReturnPage)o();else if(this.isSaveSchool)o();else{var a=this.checkChangeField();-1!=a.indexOf(!1)?this.$confirm("当前界面存在编辑操作是否保存？","提示",{confirmButtonText:"是",cancelButtonText:"否"}).then(function(){i.submitForm()}).catch(function(){o()}):o()}}}},676:function(e,t,o){t=e.exports=o(523)(),t.push([e.i,'#addschool .el-form-item.is-required.no-star .el-form-item__label:before{content:"";color:#ff4949;margin-right:4px}#addschool .icon-conserve:before{margin-right:3px}#addschool .dialog-footer>.el-button{padding:9px 30px}.el-table table{width:100%}#addschool .title{padding:8px 0;height:34px;border-bottom:1px solid #e6e6e6;margin-bottom:30px}#addschool .title i{margin-top:5px}#addschool .title .titlespan{display:inline-block;vertical-align:middle;margin-left:10px;font-size:14px;color:#0d9ee9;position:relative;top:-11px}#addschool .tabs-header{text-align:right}#addschool .blackDiv2{border-bottom:none}#addschool .tabs-body{clear:both;width:784px;margin:0 auto}#addschool .el-table .cell,#addschool .el-table th>.cell,.el-table th>div{text-align:center}#addschool .submitForm{text-align:right;height:50px;border-bottom:1px solid #e9edf1}#addschool .submitForm .el-button--primary{margin-top:8px;margin-bottom:0}#addschool .item-text .address{margin-top:22px;height:40px;display:block}#addschool .el-input__icon{right:13px}#addschool .el-button--info{width:40px;float:right;text-align:center}#addschool .grads li{list-style:none;float:left;margin-right:5px}#addschool .grads label{border:1px solid #e6e6e6;width:48px;text-align:center;display:inline-block;cursor:pointer}#addschool .grads li label.checked{color:#0d9ee9;border:1px solid #0d9ee9}#addschool .blind{clip:rect(1px,1px,1px,1px);clip:rect(1px 1px 1px 1px);position:absolute}#addschool a,button,input,keygen,select,textarea{font-family:\\\\5FAE\\8F6F\\96C5\\9ED1}#addschool .el-input.is-disabled .el-input__inner::-webkit-input-placeholder{color:#1f2d3d;font-family:\\\\5FAE\\8F6F\\96C5\\9ED1}#addschool .el-input.is-disabled .el-input__inner:-ms-input-placeholder{color:#1f2d3d;font-family:\\\\5FAE\\8F6F\\96C5\\9ED1}#addschool .el-input.is-disabled .el-input__inner::placeholder{color:#1f2d3d;font-family:\\\\5FAE\\8F6F\\96C5\\9ED1}#addschool .el-input__inner::-webkit-input-placeholder{color:#1f2d3d;font-family:\\\\5FAE\\8F6F\\96C5\\9ED1}#addschool .el-input__inner:-ms-input-placeholder{color:#1f2d3d}#addschool .el-input__inner::placeholder{color:#1f2d3d;font-family:\\\\5FAE\\8F6F\\96C5\\9ED1}#addschool .el-form .el-form-item{margin-left:100px}#addschool .el-dialog .el-form-item{margin-left:0}',"",{version:3,sources:["E:/works/jiaowuzuixin/src/pages/front/education/addschool.vue"],names:[],mappings:"AACA,yEACI,WAAY,AACZ,cAAe,AACf,gBAAkB,CACrB,AACD,iCACI,gBAAkB,CACrB,AACD,qCAAqC,gBAAkB,CACtD,AAED,gBACI,UAAY,CACf,AAED,kBACI,cAAqB,AACrB,YAAa,AACb,gCAAiC,AACjC,kBAAoB,CACvB,AACD,oBACG,cAAe,CACjB,AACD,6BACI,qBAAsB,AACtB,sBAAsB,AACtB,iBAAkB,AAClB,eAAgB,AAChB,cAAe,AACf,kBAAkB,AAClB,SAAU,CACb,AACD,wBAAwB,gBAAkB,CACzC,AACD,sBACI,kBAAoB,CACvB,AACD,sBAAsB,WAAY,AAC9B,YAAa,AACb,aAAe,CAClB,AAID,0EACI,iBAAmB,CACtB,AAED,uBACG,iBAAkB,AAClB,YAAY,AACZ,+BAAgC,CAClC,AACD,2CACI,eAAe,AACf,eAAkB,CACrB,AAED,+BACI,gBAAiB,AACjB,YAAa,AACb,aAAe,CAClB,AACD,2BACI,UAAW,CACd,AAED,4BACI,WAAW,AACX,YAAa,AACb,iBAAmB,CACtB,AACD,qBAAqB,gBAAgB,WAAW,gBAAiB,CAChE,AACD,wBAAwB,yBAAyB,WAAW,kBAAkB,qBAAqB,cAAe,CACjH,AACD,mCAAmC,cAAc,wBAAyB,CACzE,AACD,kBACI,2BAA4B,AAC5B,2BAA4B,AAC5B,iBAAmB,CACtB,AACD,iDAAsD,iCAAmB,CACxE,AACD,6EAA6E,cAAc,iCAAmB,CAC7G,AACD,wEAAwE,cAAc,iCAAmB,CACxG,AACD,+DAA+D,cAAc,iCAAmB,CAC/F,AACD,uDAAuD,cAAc,iCAAkB,CACtF,AACD,kDAAkD,aAAc,CAC/D,AACD,yCAAyC,cAAc,iCAAmB,CACzE,AACD,kCAAkC,iBAAmB,CACpD,AACD,oCAAoC,aAAiB,CACpD",file:"addschool.vue",sourcesContent:['\n#addschool  .el-form-item.is-required.no-star .el-form-item__label:before{\n    content: \'\';\n    color: #ff4949;\n    margin-right: 4px;\n}\n#addschool .icon-conserve:before{\n    margin-right: 3px;\n}\n#addschool .dialog-footer>.el-button{padding: 9px 30px;\n}\n  /*表格边框问题*/\n.el-table table{\n    width: 100%;\n}\n  /*标题样式*/\n#addschool .title{\n    padding: 8px 0 8px 0;\n    height: 34px;\n    border-bottom: 1px solid #e6e6e6;\n    margin-bottom: 30px;\n}\n#addschool .title i{\n   margin-top:5px;\n}\n#addschool .title .titlespan{\n    display: inline-block;\n    vertical-align:middle;\n    margin-left: 10px;\n    font-size: 14px;\n    color: #0d9ee9;\n    position:relative;\n    top:-11px;\n}\n#addschool .tabs-header{text-align: right;\n}\n#addschool .blackDiv2 {\n    border-bottom: none;\n}\n#addschool .tabs-body{clear: both;\n    width: 784px;\n    margin: 0 auto;\n}\n#addschool .el-table th>.cell {\n   text-align: center;\n}\n#addschool .el-table .cell, .el-table th>div {\n    text-align: center;\n}\n  /*保存*/\n#addschool .submitForm{\n   text-align: right;\n   height:50px;\n   border-bottom:1px solid #e9edf1;\n}\n#addschool .submitForm .el-button--primary{\n    margin-top:8px;\n    margin-bottom:0px;\n}\n  /*省市区*/\n#addschool .item-text .address{\n    margin-top: 22px;\n    height: 40px;\n    display: block;\n}\n#addschool .el-input__icon{\n    right:13px;\n}\n/*添加按钮*/\n#addschool .el-button--info{\n    width:40px;\n    float: right;\n    text-align: center;\n}\n#addschool .grads li{list-style:none;float:left;margin-right:5px;\n}\n#addschool .grads label{border:1px solid #e6e6e6;width:48px;text-align:center;display:inline-block;cursor:pointer;\n}\n#addschool .grads li label.checked{color:#0d9ee9;border:1px solid #0d9ee9;\n}\n#addschool .blind{\n    clip: rect(1px,1px,1px,1px);\n    clip: rect(1px 1px 1px 1px);\n    position: absolute;\n}\n#addschool a, input, textarea, keygen, select, button{font-family:"微软雅黑";\n}\n#addschool .el-input.is-disabled .el-input__inner::-webkit-input-placeholder{color:#1f2d3d;font-family:"微软雅黑";\n}\n#addschool .el-input.is-disabled .el-input__inner:-ms-input-placeholder{color:#1f2d3d;font-family:"微软雅黑";\n}\n#addschool .el-input.is-disabled .el-input__inner::placeholder{color:#1f2d3d;font-family:"微软雅黑";\n}\n#addschool .el-input__inner::-webkit-input-placeholder{color:#1f2d3d;font-family:"微软雅黑"\n}\n#addschool .el-input__inner:-ms-input-placeholder{color:#1f2d3d;\n}\n#addschool .el-input__inner::placeholder{color:#1f2d3d;font-family:"微软雅黑";\n}\n#addschool .el-form .el-form-item{margin-left: 100px;\n}\n#addschool .el-dialog .el-form-item{margin-left: 0px;\n}\n'],sourceRoot:""}])},724:function(e,t,o){var i=o(676);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);o(524)("7e670fca",i,!0)},790:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"addeditinfo",staticStyle:{"text-align":"left"},attrs:{id:"addschool"}},[o("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"},on:{submit:e.submitForm}},[o("div",{staticClass:"btns"},[o("a",{staticClass:" icon-back",attrs:{href:"javascript:;"},on:{click:e.toEduSchoolMgr}},[e._v("返回 ")])]),e._v(" "),o("div",{staticClass:"blackDiv1"},[o("div",{staticClass:"title btns"},[o("i"),e._v(" "),o("span",{staticClass:"titlespan"},[e._v("基础信息")]),e._v(" "),0==e.isSaveSchool?o("el-button",{staticClass:"white-color  el-button   el-button--primary",staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("  保存")]):e._e()],1),e._v(" "),o("el-form-item",{class:{"no-star":0!=e.isSaveSchool},attrs:{label:"校归属地区：",prop:"orgInfo"}},[o("el-select",{directives:[{name:"show",rawName:"v-show",value:0==e.isSaveSchool,expression:"isSaveSchool == false"}],staticClass:"item-text",staticStyle:{width:"215px"},attrs:{placeholder:e.defaultProvince.name,disabled:e.defaultMaxLevel>=1},on:{change:e.provinceChange},model:{value:e.selectedProvince,callback:function(t){e.selectedProvince=t},expression:"selectedProvince"}},e._l(e.province,function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e}})})),e._v(" "),0!=e.city.length||""!=e.defaultProvince.id&&null!=e.defaultProvince.id?o("el-select",{directives:[{name:"show",rawName:"v-show",value:0==e.isSaveSchool,expression:"isSaveSchool == false"}],staticClass:"item-text",staticStyle:{width:"215px"},attrs:{placeholder:e.defaultCity.name,disabled:e.defaultMaxLevel>=2},on:{change:e.cityChange},model:{value:e.selectedCity,callback:function(t){e.selectedCity=t},expression:"selectedCity"}},e._l(e.city,function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e}})})):e._e(),e._v(" "),0!=e.county.length||""!=e.defaultCity.id&&null!=e.defaultCity.id?o("el-select",{directives:[{name:"show",rawName:"v-show",value:0==e.isSaveSchool,expression:"isSaveSchool == false"}],staticClass:"item-text",staticStyle:{width:"215px"},attrs:{placeholder:e.defaultCounty.name,disabled:e.defaultMaxLevel>=3},on:{change:e.countyChange},model:{value:e.selectedCounty,callback:function(t){e.selectedCounty=t},expression:"selectedCounty"}},e._l(e.county,function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e}})})):e._e(),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:0!=e.isSaveSchool,expression:"isSaveSchool != false"}]},[e._v(e._s(e.orgNameStr))])],1),e._v(" "),o("el-form-item",{class:{"no-star":0!=e.isSaveSchool},attrs:{label:"学校名称：",prop:"name"}},[o("el-input",{directives:[{name:"show",rawName:"v-show",value:0==e.isSaveSchool,expression:"isSaveSchool == false"}],staticClass:"inputWidth",attrs:{maxlength:30},model:{value:e.ruleForm.name,callback:function(t){e.ruleForm.name="string"==typeof t?t.trim():t},expression:"ruleForm.name"}}),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:0!=e.isSaveSchool,expression:"isSaveSchool != false"}]},[e._v(e._s(e.ruleForm.name))])],1),e._v(" "),o("el-form-item",{class:{"no-star":0!=e.isSaveSchool},attrs:{label:"学校类型：",prop:"schoolType"}},[o("el-select",{directives:[{name:"show",rawName:"v-show",value:0==e.isSaveSchool,expression:"isSaveSchool == false"}],staticClass:"inputWidth",attrs:{name:"schoolType",id:"ruleForm.schoolType"},on:{change:e.changeSchoolType},model:{value:e.ruleForm.schoolType,callback:function(t){e.ruleForm.schoolType=t},expression:"ruleForm.schoolType"}},[o("el-option",{attrs:{label:"请选择",value:""}},[e._v("请选择")]),e._v(" "),o("el-option",{attrs:{label:"高中",value:"2"}},[e._v("高中")]),e._v(" "),o("el-option",{attrs:{label:"初中",value:"3"}},[e._v("初中")]),e._v(" "),o("el-option",{attrs:{label:"完中",value:"4"}},[e._v("完中")]),e._v(" "),o("el-option",{attrs:{label:"九年一贯制",value:"5"}},[e._v("九年一贯制")]),e._v(" "),o("el-option",{attrs:{label:"小学",value:"6"}},[e._v("小学")]),e._v(" "),o("el-option",{attrs:{label:"完小",value:"8"}},[e._v("完小")]),e._v(" "),o("el-option",{attrs:{label:"职业高中(职高)",value:"9"}},[e._v("职业高中(职高)")]),e._v(" "),o("el-option",{attrs:{label:"中等专业学校(中专)",value:"10"}},[e._v("中等专业学校(中专)")]),e._v(" "),o("el-option",{attrs:{label:"十二年一贯制",value:"13"}},[e._v("十二年一贯制")])],1),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:0!=e.isSaveSchool,expression:"isSaveSchool != false"}]},[e._v(e._s(e.convertSchoolType(e.ruleForm.schoolType)))])],1),e._v(" "),o("el-form-item",{class:{"no-star":0!=e.isSaveSchool},attrs:{label:"学制：",prop:"codeType"}},[o("el-select",{directives:[{name:"show",rawName:"v-show",value:0==e.isSaveSchool,expression:"isSaveSchool == false"}],staticClass:"inputWidth",attrs:{name:"codeType"},on:{change:e.changeSchooling},model:{value:e.codeVal,callback:function(t){e.codeVal=t},expression:"codeVal"}},[o("el-option",{attrs:{label:"六三制",value:"1"}},[e._v("六三制")]),e._v(" "),o("el-option",{attrs:{label:"五四制",value:"2"}},[e._v("五四制")])],1),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:0!=e.isSaveSchool,expression:"isSaveSchool != false"}]},[e._v(e._s(e.convertCodeType(e.ruleForm.codeType)))])],1),e._v(" "),o("el-form-item",{staticClass:"region",class:{"no-star":0!=e.isSaveSchool},attrs:{label:"教学范围",prop:"codeStart"}},[o("ul",{directives:[{name:"show",rawName:"v-show",value:0==e.isSaveSchool,expression:"isSaveSchool == false"}],staticClass:"grads"},e._l(e.grads,function(t,i){return o("li",{directives:[{name:"show",rawName:"v-show",value:!0===t.display,expression:"grad['display'] === true"}]},[o("label",{class:{disabled:t.disabled,checked:t.checked},attrs:{for:"grad"+i}},[e._v(e._s(t.name))]),e._v(" "),o("input",{staticClass:"blind",attrs:{type:"checkbox",id:"grad"+i,name:"grad[]",disabled:t.disabled},domProps:{checked:t.checked},on:{change:function(t){e.changeGrad(i,t)}}})])})),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:0!=e.isSaveSchool,expression:"isSaveSchool != false"}]},[e._v(e._s(e.convertGrads(e.grads)))])]),e._v(" "),o("el-form-item",{class:{"no-star":0!=e.isSaveSchool},attrs:{label:"地理位置：",prop:"position"}},[o("el-select",{directives:[{name:"show",rawName:"v-show",value:0==e.isSaveSchool,expression:"isSaveSchool == false"}],staticClass:"inputWidth",attrs:{placeholder:"请选择地理位置"},model:{value:e.ruleForm.position,callback:function(t){e.ruleForm.position=t},expression:"ruleForm.position"}},[o("el-option",{attrs:{label:"中心城区",value:"1"}}),e._v(" "),o("el-option",{attrs:{label:"城乡结合",value:"2"}}),e._v(" "),o("el-option",{attrs:{label:"近郊",value:"3"}}),e._v(" "),o("el-option",{attrs:{label:"远郊",value:"4"}})],1),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:0!=e.isSaveSchool,expression:"isSaveSchool != false"}]},[e._v(e._s(e.convertPosition(e.ruleForm.position)))])],1),e._v(" "),o("el-form-item",{attrs:{label:"所在地址：",prop:"address"}},[o("el-select",{directives:[{name:"show",rawName:"v-show",value:0==e.isSaveSchool,expression:"isSaveSchool == false"}],staticStyle:{width:"215px","margin-bottom":"10px"},attrs:{placeholder:"省份"},on:{change:e.dzProvinceChange},model:{value:e.selectedDZProvince,callback:function(t){e.selectedDZProvince=t},expression:"selectedDZProvince"}},e._l(e.dzProvince,function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e}})})),e._v(" "),o("el-select",{directives:[{name:"show",rawName:"v-show",value:0==e.isSaveSchool,expression:"isSaveSchool == false"}],staticStyle:{width:"215px","margin-bottom":"10px"},attrs:{placeholder:"城市"},on:{change:e.dzCityChange},model:{value:e.selectedDZCity,callback:function(t){e.selectedDZCity=t},expression:"selectedDZCity"}},e._l(e.dzCity,function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e}})})),e._v(" "),o("el-select",{directives:[{name:"show",rawName:"v-show",value:0==e.isSaveSchool,expression:"isSaveSchool == false"}],staticStyle:{width:"215px","margin-bottom":"10px"},attrs:{placeholder:"区域"},on:{change:e.dzCountyChange},model:{value:e.selectedDZCounty,callback:function(t){e.selectedDZCounty=t},expression:"selectedDZCounty"}},e._l(e.dzCounty,function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e}})})),e._v(" "),o("el-input",{directives:[{name:"show",rawName:"v-show",value:0==e.isSaveSchool,expression:"isSaveSchool == false"}],staticClass:"address",attrs:{type:"textarea",placeholder:"请输入详细地址",maxlength:50},model:{value:e.ruleForm.address,callback:function(t){e.ruleForm.address="string"==typeof t?t.trim():t},expression:"ruleForm.address"}}),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:0!=e.isSaveSchool,expression:"isSaveSchool != false"}]},[e._v(e._s(e.addrOrgNameStr)+" "+e._s(e.ruleForm.address))])],1),e._v(" "),o("el-form-item",{attrs:{label:"描述：",prop:"describe"}},[o("el-input",{directives:[{name:"show",rawName:"v-show",value:0==e.isSaveSchool,expression:"isSaveSchool == false"}],attrs:{type:"textarea",maxlength:200},model:{value:e.ruleForm.describe,callback:function(t){e.ruleForm.describe="string"==typeof t?t.trim():t},expression:"ruleForm.describe"}}),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:0!=e.isSaveSchool,expression:"isSaveSchool != false"}]},[e._v(e._s(e.ruleForm.describe))])],1)],1)]),e._v(" "),o("div",{class:{blackDiv2:e.isAdd},attrs:{id:"userListDiv2"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.isAdd,expression:"isAdd"}],staticClass:"title btns"},[o("i"),o("span",{staticClass:"titlespan"},[e._v("负责人信息")]),e._v(" "),o("el-button",{staticClass:"white-color  el-button   el-button--primary",staticStyle:{float:"right"},attrs:{type:"success"},on:{click:e.addOrgUser}},[e._v("新建人员")])],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.isAdd,expression:"isAdd"}],staticClass:"tabs-body"},[o("el-table",{attrs:{data:e.orgUsers,border:"","tooltip-effect":"dark"},on:{"cell-click":e.getOrgUserCurrentInfo,"selection-change":e.orgUsersSelectionChange}},[o("el-table-column",{attrs:{prop:"name",label:"姓名",width:"190","show-overflow-tooltip":""}}),e._v(" "),o("el-table-column",{attrs:{prop:"phoneNumber",label:"手机号",width:"260"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作",width:"330"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(o){e.orgUsersEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),o("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(o){e.orgUsersDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("div",{staticClass:"pagination text-right"}),e._v(" "),o("el-dialog",{attrs:{title:"新建人员信息","close-on-click-modal":!1,size:"tiny",top:"50%","before-close":e.cancelUserAddData},model:{value:e.dialogVisibleAdd,callback:function(t){e.dialogVisibleAdd=t},expression:"dialogVisibleAdd"}},[o("el-form",{ref:"orgUserFormAdd",attrs:{model:e.orgUserFormAdd,rules:e.orgUserAddRules,"label-width":"90px"}},[o("el-form-item",{attrs:{label:"姓名：",prop:"name"}},[o("el-input",{attrs:{maxlength:40,minlength:2},model:{value:e.orgUserFormAdd.name,callback:function(t){e.orgUserFormAdd.name="string"==typeof t?t.trim():t},expression:"orgUserFormAdd.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"手机号：",prop:"phone"}},[o("el-input",{attrs:{maxlength:11},model:{value:e.orgUserFormAdd.phone,callback:function(t){e.orgUserFormAdd.phone="string"==typeof t?t.trim():t},expression:"orgUserFormAdd.phone"}})],1)],1),e._v(" "),o("span",{staticClass:"dialog-footer",slot:"footer"},[o("el-button",{on:{click:function(t){e.cancelUserAddData()}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.orgUserFormAddData()}}},[e._v("添 加")])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"编辑人员信息","close-on-click-modal":!1,size:"tiny",top:"50%","before-close":e.cancelUserEditData},model:{value:e.dialogVisibleEdit,callback:function(t){e.dialogVisibleEdit=t},expression:"dialogVisibleEdit"}},[o("el-form",{ref:"orgUserFormEdit",attrs:{model:e.orgUserFormEdit,rules:e.orgUserAddRules,"label-width":"90px"}},[o("el-form-item",{attrs:{label:"姓名：",prop:"name"}},[o("el-input",{model:{value:e.orgUserFormEdit.name,callback:function(t){e.orgUserFormEdit.name="string"==typeof t?t.trim():t},expression:"orgUserFormEdit.name"}})],1),e._v(" "),4!=e.userInfo.roleId?o("el-form-item",{attrs:{label:"手机号：",prop:"phone"}},[o("el-input",{model:{value:e.orgUserFormEdit.phone,callback:function(t){e.orgUserFormEdit.phone="string"==typeof t?t.trim():t},expression:"orgUserFormEdit.phone"}})],1):e._e()],1),e._v(" "),o("span",{staticClass:"dialog-footer",slot:"footer"},[o("el-button",{on:{click:e.cancelUserEditData}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.orgUserFormEditData()}}},[e._v("保 存")])],1)],1)],1)])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=20.ba0544ad4742e1be6801.js.map