{"version":3,"sources":["webpack:///static/js/37.744bb46d79133df08dc4.js","webpack:///./src/pages/front/schoolRollFiler/subjectbatch.vue","webpack:///subjectbatch.vue","webpack:///./src/pages/front/schoolRollFiler/subjectbatch.vue?ea8d","webpack:///./src/pages/front/schoolRollFiler/subjectbatch.vue?6fa7","webpack:///./src/resources/front/imgs/Subjectinfomoban.png","webpack:///./src/pages/front/schoolRollFiler/subjectbatch.vue?0fb0"],"names":["webpackJsonp","555","module","exports","__webpack_require__","Component","634","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_1_jquery__","__WEBPACK_IMPORTED_MODULE_1_jquery___default","n","data","activeName","formData","schoolId","JSON","parse","localStorage","userInfo","schools","examId","this","$route","query","term","schoolYear","fileLists","errorArr","mounted","methods","handleClick","tab","event","selectFile","beforeUpload","file","console","log","size","isLt2M","$alert","confirmButtonText","callback","location","reload","submitUpload","$refs","upload","submit","handleChange","fileList","each","index","item","text","indexOf","name","remove","handleSuccess","response","code","useAlert","message","concat","handleError","err","678","push","i","version","sources","names","mappings","sourcesContent","sourceRoot","726","content","locals","761","p","792","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","to","path","_v","on","tab-click","model","$$v","expression","label","staticStyle","background-color","color","margin-top","margin-left","float","href","baseURL","target","type","padding-left","display","ref","accept","action","multiple","before-upload","on-change","on-success","on-error","file-list","auto-upload","slot","click","length","min-height","font-size","padding","width","border","align","prop","_e","margin-bottom","src","staticRenderFns"],"mappings":"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","file":"static/js/37.744bb46d79133df08dc4.js","sourcesContent":["webpackJsonp([37],{\n\n/***/ 555:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(726)\n\nvar Component = __webpack_require__(191)(\n  /* script */\n  __webpack_require__(634),\n  /* template */\n  __webpack_require__(792),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 634:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery__ = __webpack_require__(193);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_jquery__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      activeName: 'one',\n      formData: {\n        schoolId: JSON.parse(localStorage.userInfo).schools.schoolId,\n        examId: this.$route.query.examId,\n        term: this.$route.query.term,\n        schoolYear: this.$route.query.schoolYear\n      },\n      fileLists: [],\n      errorArr: [] };\n  },\n  mounted: function mounted() {},\n\n  methods: {\n    handleClick: function handleClick(tab, event) {},\n    selectFile: function selectFile() {},\n    beforeUpload: function beforeUpload(file) {\n      console.log(file.size / 1024 / 1024);\n      var isLt2M = file.size / 1024 / 1024 <= 2;\n      if (!isLt2M) {\n        this.$alert('上传单个文件大小不能超过2MB! 请修改后重新导入', '提示', {\n          confirmButtonText: '确定',\n          callback: function callback() {\n            location.reload();\n          }\n        });\n      }\n      return isLt2M;\n    },\n    submitUpload: function submitUpload() {\n      this.errorArr = [];\n      this.$refs.upload.submit();\n    },\n    handleChange: function handleChange(file, fileList) {\n      __WEBPACK_IMPORTED_MODULE_1_jquery___default()('#subjectbatch .upload-score li').each(function (index, item) {\n        if (__WEBPACK_IMPORTED_MODULE_1_jquery___default()(item).text().indexOf(file.name) >= 0) {\n          __WEBPACK_IMPORTED_MODULE_1_jquery___default()(item).remove();\n        }\n      });\n    },\n    handleSuccess: function handleSuccess(response, file, fileList) {\n      if (response.code == '200') {\n        this.useAlert('success', response.message, function () {});\n      } else if (response.code == '500') {\n        this.errorArr = this.errorArr.concat(response.data);\n        this.useAlert('error', '导入失败，请稍后重试', function () {});\n\n        __WEBPACK_IMPORTED_MODULE_1_jquery___default()('#subjectbatch .upload-score li').each(function (index, item) {\n          if (__WEBPACK_IMPORTED_MODULE_1_jquery___default()(item).text().indexOf(file.name) >= 0) {\n            __WEBPACK_IMPORTED_MODULE_1_jquery___default()(item).remove();\n          }\n        });\n      }\n    },\n    handleError: function handleError(err, file, fileList) {}\n  }\n});\n\n/***/ }),\n\n/***/ 678:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(523)();\n// imports\n\n\n// module\nexports.push([module.i, \"#subjectbatch .upload-score{width:360px;padding:0 36px 30px}#subjectbatch .select-btn,#subjectbatch .upload-btn{margin-left:10px;width:90px;height:34px}#subjectbatch .el-upload-list{margin-top:20px}#subjectbatch .ev-report-page-panel .el-tab-pane p>a{margin-left:0}\", \"\", {\"version\":3,\"sources\":[\"E:/works/jiaowuzuixin/src/pages/front/schoolRollFiler/subjectbatch.vue\"],\"names\":[],\"mappings\":\"AACA,4BAA8B,YAAa,AAAC,mBAAqB,CAChE,AAGD,oDAA4B,iBAAkB,AAAC,WAAY,AAAC,WAAa,CACxE,AACD,8BAAgC,eAAiB,CAChD,AACD,qDAAuD,aAAe,CACrE\",\"file\":\"subjectbatch.vue\",\"sourcesContent\":[\"\\n#subjectbatch .upload-score { width: 360px; padding: 0 36px 30px;\\n}\\n#subjectbatch .select-btn { margin-left: 10px; width: 90px; height: 34px;\\n}\\n#subjectbatch .upload-btn { margin-left: 10px; width: 90px; height: 34px;\\n}\\n#subjectbatch .el-upload-list { margin-top: 20px;\\n}\\n#subjectbatch .ev-report-page-panel .el-tab-pane p>a { margin-left: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 726:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(678);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(524)(\"76e0ef56\", content, true);\n\n/***/ }),\n\n/***/ 761:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/img/Subjectinfomoban.532b6af.png\";\n\n/***/ }),\n\n/***/ 792:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"subjectbatch\"\n    }\n  }, [_c('div', {\n    staticClass: \"ev-page-return\"\n  }, [_c('router-link', {\n    staticClass: \" icon-back\",\n    attrs: {\n      \"to\": {\n        path: '/scoreManagement'\n      }\n    }\n  }, [_vm._v(\"返回 \")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"ev-report-page-panel\"\n  }, [_c('el-tabs', {\n    on: {\n      \"tab-click\": _vm.handleClick\n    },\n    model: {\n      value: (_vm.activeName),\n      callback: function($$v) {\n        _vm.activeName = $$v\n      },\n      expression: \"activeName\"\n    }\n  }, [_c('el-tab-pane', {\n    attrs: {\n      \"label\": \"批量导入\",\n      \"name\": \"one\"\n    }\n  }, [_c('div', [_c('ol', [_c('li', {\n    staticClass: \"xiazaimoban\"\n  }, [_c('h3', [_c('i', {\n    staticClass: \"icon-download-File\",\n    staticStyle: {\n      \"background-color\": \"#1ec56b\",\n      \"color\": \"#fff\"\n    }\n  }), _vm._v(\"下载模板\")]), _vm._v(\" \"), _c('p', {\n    staticStyle: {\n      \"margin-top\": \"15px\",\n      \"margin-left\": \"36px\",\n      \"float\": \"left\"\n    }\n  }, [_vm._v(\"点击下载导入模板     \"), _c('a', {\n    attrs: {\n      \"href\": _vm.baseURL + 'downloads/学科成绩模板.zip',\n      \"target\": \"_blank\"\n    }\n  }, [_c('el-button', {\n    staticClass: \"download\",\n    attrs: {\n      \"type\": \"primary\"\n    }\n  }, [_vm._v(\" 下载\")])], 1)])]), _vm._v(\" \"), _c('li', {\n    staticClass: \"file-box\"\n  }, [_c('h3', {\n    staticStyle: {\n      \"padding-left\": \"13px\",\n      \"display\": \"block\"\n    }\n  }, [_c('i', {\n    staticClass: \"icon-import-file\",\n    staticStyle: {\n      \"background-color\": \"#ff773b\",\n      \"color\": \"#fff\"\n    }\n  }), _vm._v(\"选择需要导入的EXCEL文件\")]), _vm._v(\" \"), _c('el-upload', {\n    ref: \"upload\",\n    staticClass: \"upload-score\",\n    attrs: {\n      \"data\": _vm.formData,\n      \"accept\": \".xls,.xlsx,.csv\",\n      \"action\": _vm.baseURL + 'schadmin/import/importScore',\n      \"multiple\": \"\",\n      \"before-upload\": _vm.beforeUpload,\n      \"on-change\": _vm.handleChange,\n      \"on-success\": _vm.handleSuccess,\n      \"on-error\": _vm.handleError,\n      \"file-list\": _vm.fileLists,\n      \"auto-upload\": false\n    }\n  }, [_c('el-button', {\n    staticClass: \"select-btn\",\n    attrs: {\n      \"type\": \"primary\"\n    },\n    slot: \"trigger\"\n  }, [_vm._v(\"选择文件\")]), _vm._v(\" \"), _c('el-button', {\n    staticClass: \"upload-btn\",\n    attrs: {\n      \"type\": \"success\"\n    },\n    on: {\n      \"click\": _vm.submitUpload\n    }\n  }, [_vm._v(\"导入\")])], 1)], 1)])]), _vm._v(\" \"), _c('div', [(_vm.errorArr.length > 0) ? _c('div', {\n    staticStyle: {\n      \"margin-top\": \"20px\",\n      \"min-height\": \"500px\"\n    }\n  }, [_c('div', {\n    staticClass: \"icon-cue\",\n    staticStyle: {\n      \"font-size\": \"14px\",\n      \"color\": \"red\",\n      \"padding\": \"10px 0 10px 0\"\n    }\n  }, [_vm._v(\" 出错提示\")]), _vm._v(\" \"), _c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.errorArr,\n      \"border\": \"\",\n      \"align\": \"center\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"prop\": \"fileName\",\n      \"label\": \"问题文档\",\n      \"width\": \"180\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"row\",\n      \"label\": \"问题行数\",\n      \"width\": \"200\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"name\",\n      \"label\": \"出错人\",\n      \"width\": \"180\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"content\",\n      \"label\": \"问题描述\",\n      \"align\": \"center\"\n    }\n  })], 1)], 1) : _vm._e(), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"error\"\n    }\n  })])]), _vm._v(\" \"), _c('el-tab-pane', {\n    attrs: {\n      \"label\": \"操作指引\",\n      \"name\": \"two\"\n    }\n  }, [_c('div', {\n    staticClass: \"explain\"\n  }, [_c('h3', [_c('i', {\n    staticClass: \"icon-case\"\n  }), _vm._v(\"导入格式案例\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"report-remark\",\n    staticStyle: {\n      \"margin-bottom\": \"20px\"\n    }\n  }, [_vm._v(\"\\n            科目成绩信息\\n          \")]), _vm._v(\" \"), _c('img', {\n    attrs: {\n      \"src\": __webpack_require__(761)\n    }\n  }), _vm._v(\" \"), _c('h3', [_c('i', {\n    staticClass: \"icon-attentions\"\n  }), _vm._v(\"填写注意事项\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark\"\n  }, [_vm._v(\"1、姓名和学籍号为必填项。\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark\"\n  }, [_vm._v(\"2、学籍号需要输入全国统一学籍号且输入学籍号必须和系统学生学籍号保持一致。\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark\"\n  }, [_vm._v(\"3、体育科目有成绩的填写，没成绩的可以为空\")]), _vm._v(\" \"), _c('h3', [_c('i', {\n    staticClass: \"icon-import-instructions\"\n  }), _vm._v(\"导入说明\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark\"\n  }, [_vm._v(\"1、文件导入前请严格按照数据要求和格式要求填写。\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark\"\n  }, [_vm._v(\"2、导入如果出现异常或数据问题，请修改后重新导入。\")])])])], 1)], 1)])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/37.744bb46d79133df08dc4.js","\n/* styles */\nrequire(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-3677c5ea\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./subjectbatch.vue\")\n\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./subjectbatch.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3677c5ea\\\"}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./subjectbatch.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/front/schoolRollFiler/subjectbatch.vue\n// module id = 555\n// module chunks = 37","<template>\n  <div id=\"subjectbatch\">\n    <div class=\"ev-page-return\">\n      <router-link :to=\"{ path: '/scoreManagement' }\" class=\" icon-back\">返回 </router-link>\n    </div>\n\n    <div class=\"ev-report-page-panel\">\n      <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\n        <el-tab-pane label=\"批量导入\" name=\"one\">\n          <div>\n            <ol>\n              <li class=\"xiazaimoban\">\n                <h3><i class=\"icon-download-File\" style=\" background-color: #1ec56b; color: #fff;\"></i>下载模板</h3>\n                <p style=\"margin-top:15px;margin-left: 36px;float: left;\">点击下载导入模板&nbsp&nbsp&nbsp&nbsp&nbsp<a :href=\"baseURL+'downloads/学科成绩模板.zip'\" target=\"_blank\"><el-button type=\"primary\" class=\"download\"> 下载</el-button></a></p>\n              </li>\n              <li class=\"file-box\">\n                <h3 style=\"padding-left:13px; display: block;\"><i class=\"icon-import-file\" style=\" background-color: #ff773b; color: #fff;\"></i>选择需要导入的EXCEL文件</h3>\n                <el-upload\n                  class=\"upload-score\"\n                  ref=\"upload\"\n                  :data=\"formData\"\n                  accept=\".xls,.xlsx,.csv\"\n                  :action=\"baseURL + 'schadmin/import/importScore'\"\n                  multiple\n                  :before-upload=\"beforeUpload\"\n                  :on-change=\"handleChange\"\n                  :on-success=\"handleSuccess\"\n                  :on-error=\"handleError\"\n                  :file-list=\"fileLists\"\n                  :auto-upload=\"false\">\n                  <el-button slot=\"trigger\" class=\"select-btn\" type=\"primary\">选择文件</el-button>\n                  <el-button class=\"upload-btn\" type=\"success\" @click=\"submitUpload\">导入</el-button>\n                  <!--<div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>-->\n                </el-upload>\n              </li>\n            </ol>\n          </div>\n\n          <!--出错提示-->\n          <div>\n            <div v-if=\"errorArr.length > 0\" style=\"margin-top: 20px;min-height:500px;\">\n              <div class=\"icon-cue\" style=\"font-size: 14px;color:red;padding: 10px 0 10px 0;\"> 出错提示</div>\n              <el-table\n                :data=\"errorArr\"\n                border\n                style=\"width: 100%\" align=\"center\">\n                <el-table-column\n                  prop=\"fileName\"\n                  label=\"问题文档\"\n                  width=\"180\"\n                  align=\"center\">\n                </el-table-column>\n                <el-table-column\n                  prop=\"row\"\n                  label=\"问题行数\"\n                  width=\"200\"\n                  align=\"center\">\n                </el-table-column>\n                <el-table-column\n                  prop=\"name\"\n                  label=\"出错人\"\n                  width=\"180\"\n                  align=\"center\">\n                </el-table-column>\n                <el-table-column\n                  prop=\"content\"\n                  label=\"问题描述\"\n                  align=\"center\">\n                </el-table-column>\n              </el-table>\n            </div>\n            <div id=\"error\"></div>\n          </div>\n        </el-tab-pane>\n        <el-tab-pane label=\"操作指引\" name=\"two\">\n          <!--说明-->\n          <div class=\"explain\">\n            <h3><i class=\"icon-case\"></i>导入格式案例</h3>\n            <div class=\"report-remark\" style=\"margin-bottom:20px;\">\n              科目成绩信息\n            </div>\n            <img  src=\"../../../resources/front/imgs/Subjectinfomoban.png\">\n            <h3><i class=\"icon-attentions\"></i>填写注意事项</h3>\n            <p class=\"son-remark\">1、姓名和学籍号为必填项。</p>\n            <p class=\"son-remark\">2、学籍号需要输入全国统一学籍号且输入学籍号必须和系统学生学籍号保持一致。</p>\n            <p class=\"son-remark\">3、体育科目有成绩的填写，没成绩的可以为空</p>\n            <h3><i class=\"icon-import-instructions\"></i>导入说明</h3>\n            <p class=\"son-remark\">1、文件导入前请严格按照数据要求和格式要求填写。</p>\n            <p class=\"son-remark\">2、导入如果出现异常或数据问题，请修改后重新导入。</p>\n          </div>\n        </el-tab-pane>\n      </el-tabs>\n    </div>\n  </div>\n\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import Vue from 'vue'\n  import $ from 'jquery'\n  export default {\n    data() {\n      return {\n        activeName: 'one',//切换默认显示内容\n        formData: { //上传表单参数\n          schoolId: JSON.parse(localStorage.userInfo).schools.schoolId,\n          examId:this.$route.query.examId,\n          term: this.$route.query.term,\n          schoolYear:this.$route.query.schoolYear,\n        },\n        fileLists: [],  //上传文件列表\n        errorArr: [], //出错列表\n      };\n    },\n    mounted() {\n    },\n    methods: {\n      //tab切换\n      handleClick(tab, event) {\n//        console.log(tab, event);\n      },\n      selectFile() {\n      },\n      beforeUpload(file) {\n        console.log(file.size / 1024 / 1024);\n        const isLt2M = file.size / 1024 / 1024 <= 2; //小于0M\n        if (!isLt2M) {\n          this.$alert('上传单个文件大小不能超过2MB! 请修改后重新导入', '提示', {\n            confirmButtonText: '确定',\n            callback: () => {\n              location.reload();\n            }\n          });\n//          this.useAlert('error', '上传文件大小不能超过 2MB!', function() {\n//            location.reload();\n//          });\n        }\n        return isLt2M;\n      },\n      submitUpload() {\n        this.errorArr = []; //重置errorArr\n        this.$refs.upload.submit();\n\n      },\n      handleChange(file, fileList) {\n//        fileList = _.uniqBy(fileList, 'name')\n        $('#subjectbatch .upload-score li').each(function(index, item) {\n          if ( $(item).text().indexOf(file.name) >= 0 ) {\n            $(item).remove();\n          }\n        });\n//        this.fileLists = _.uniqBy(fileList, 'name')\n//        console.log(this.fileLists);\n      },\n      handleSuccess(response, file, fileList) {\n        if ( response.code == '200' ) {\n          this.useAlert('success', response.message, function() {\n//            location.reload();\n          });\n        } else if ( response.code == '500' ) {\n          this.errorArr = this.errorArr.concat(response.data);\n          this.useAlert('error', '导入失败，请稍后重试', function() {\n//            location.reload();\n          });\n//          debugger;\n          $('#subjectbatch .upload-score li').each(function(index, item) {\n//            console.log($(item).text());\n            if ( $(item).text().indexOf(file.name) >= 0 ) {\n              $(item).remove();\n            }\n          });\n//          this.fileLists = this.fileLists.filter(function(item) {\n//            return item.name != file.name;\n//          })\n        }\n      },\n      handleError(err, file, fileList) {\n//        this.useAlert('error', '网络错误请重试！', function() {\n//          location.reload();\n//        });\n      },\n\n    }\n  }\n</script>\n\n<style >\n  #subjectbatch .upload-score { width: 360px; padding: 0 36px 30px;}\n  #subjectbatch .select-btn { margin-left: 10px; width: 90px; height: 34px;}\n  #subjectbatch .upload-btn { margin-left: 10px; width: 90px; height: 34px;}\n  #subjectbatch .el-upload-list { margin-top: 20px;}\n  #subjectbatch .ev-report-page-panel .el-tab-pane p>a { margin-left: 0;}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// subjectbatch.vue?649acf54","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"#subjectbatch .upload-score{width:360px;padding:0 36px 30px}#subjectbatch .select-btn,#subjectbatch .upload-btn{margin-left:10px;width:90px;height:34px}#subjectbatch .el-upload-list{margin-top:20px}#subjectbatch .ev-report-page-panel .el-tab-pane p>a{margin-left:0}\", \"\", {\"version\":3,\"sources\":[\"E:/works/jiaowuzuixin/src/pages/front/schoolRollFiler/subjectbatch.vue\"],\"names\":[],\"mappings\":\"AACA,4BAA8B,YAAa,AAAC,mBAAqB,CAChE,AAGD,oDAA4B,iBAAkB,AAAC,WAAY,AAAC,WAAa,CACxE,AACD,8BAAgC,eAAiB,CAChD,AACD,qDAAuD,aAAe,CACrE\",\"file\":\"subjectbatch.vue\",\"sourcesContent\":[\"\\n#subjectbatch .upload-score { width: 360px; padding: 0 36px 30px;\\n}\\n#subjectbatch .select-btn { margin-left: 10px; width: 90px; height: 34px;\\n}\\n#subjectbatch .upload-btn { margin-left: 10px; width: 90px; height: 34px;\\n}\\n#subjectbatch .el-upload-list { margin-top: 20px;\\n}\\n#subjectbatch .ev-report-page-panel .el-tab-pane p>a { margin-left: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-3677c5ea\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/front/schoolRollFiler/subjectbatch.vue\n// module id = 678\n// module chunks = 37","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-3677c5ea\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./subjectbatch.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"76e0ef56\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-3677c5ea\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/front/schoolRollFiler/subjectbatch.vue\n// module id = 726\n// module chunks = 37","module.exports = __webpack_public_path__ + \"static/img/Subjectinfomoban.532b6af.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/resources/front/imgs/Subjectinfomoban.png\n// module id = 761\n// module chunks = 37","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"subjectbatch\"\n    }\n  }, [_c('div', {\n    staticClass: \"ev-page-return\"\n  }, [_c('router-link', {\n    staticClass: \" icon-back\",\n    attrs: {\n      \"to\": {\n        path: '/scoreManagement'\n      }\n    }\n  }, [_vm._v(\"返回 \")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"ev-report-page-panel\"\n  }, [_c('el-tabs', {\n    on: {\n      \"tab-click\": _vm.handleClick\n    },\n    model: {\n      value: (_vm.activeName),\n      callback: function($$v) {\n        _vm.activeName = $$v\n      },\n      expression: \"activeName\"\n    }\n  }, [_c('el-tab-pane', {\n    attrs: {\n      \"label\": \"批量导入\",\n      \"name\": \"one\"\n    }\n  }, [_c('div', [_c('ol', [_c('li', {\n    staticClass: \"xiazaimoban\"\n  }, [_c('h3', [_c('i', {\n    staticClass: \"icon-download-File\",\n    staticStyle: {\n      \"background-color\": \"#1ec56b\",\n      \"color\": \"#fff\"\n    }\n  }), _vm._v(\"下载模板\")]), _vm._v(\" \"), _c('p', {\n    staticStyle: {\n      \"margin-top\": \"15px\",\n      \"margin-left\": \"36px\",\n      \"float\": \"left\"\n    }\n  }, [_vm._v(\"点击下载导入模板     \"), _c('a', {\n    attrs: {\n      \"href\": _vm.baseURL + 'downloads/学科成绩模板.zip',\n      \"target\": \"_blank\"\n    }\n  }, [_c('el-button', {\n    staticClass: \"download\",\n    attrs: {\n      \"type\": \"primary\"\n    }\n  }, [_vm._v(\" 下载\")])], 1)])]), _vm._v(\" \"), _c('li', {\n    staticClass: \"file-box\"\n  }, [_c('h3', {\n    staticStyle: {\n      \"padding-left\": \"13px\",\n      \"display\": \"block\"\n    }\n  }, [_c('i', {\n    staticClass: \"icon-import-file\",\n    staticStyle: {\n      \"background-color\": \"#ff773b\",\n      \"color\": \"#fff\"\n    }\n  }), _vm._v(\"选择需要导入的EXCEL文件\")]), _vm._v(\" \"), _c('el-upload', {\n    ref: \"upload\",\n    staticClass: \"upload-score\",\n    attrs: {\n      \"data\": _vm.formData,\n      \"accept\": \".xls,.xlsx,.csv\",\n      \"action\": _vm.baseURL + 'schadmin/import/importScore',\n      \"multiple\": \"\",\n      \"before-upload\": _vm.beforeUpload,\n      \"on-change\": _vm.handleChange,\n      \"on-success\": _vm.handleSuccess,\n      \"on-error\": _vm.handleError,\n      \"file-list\": _vm.fileLists,\n      \"auto-upload\": false\n    }\n  }, [_c('el-button', {\n    staticClass: \"select-btn\",\n    attrs: {\n      \"type\": \"primary\"\n    },\n    slot: \"trigger\"\n  }, [_vm._v(\"选择文件\")]), _vm._v(\" \"), _c('el-button', {\n    staticClass: \"upload-btn\",\n    attrs: {\n      \"type\": \"success\"\n    },\n    on: {\n      \"click\": _vm.submitUpload\n    }\n  }, [_vm._v(\"导入\")])], 1)], 1)])]), _vm._v(\" \"), _c('div', [(_vm.errorArr.length > 0) ? _c('div', {\n    staticStyle: {\n      \"margin-top\": \"20px\",\n      \"min-height\": \"500px\"\n    }\n  }, [_c('div', {\n    staticClass: \"icon-cue\",\n    staticStyle: {\n      \"font-size\": \"14px\",\n      \"color\": \"red\",\n      \"padding\": \"10px 0 10px 0\"\n    }\n  }, [_vm._v(\" 出错提示\")]), _vm._v(\" \"), _c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.errorArr,\n      \"border\": \"\",\n      \"align\": \"center\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"prop\": \"fileName\",\n      \"label\": \"问题文档\",\n      \"width\": \"180\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"row\",\n      \"label\": \"问题行数\",\n      \"width\": \"200\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"name\",\n      \"label\": \"出错人\",\n      \"width\": \"180\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"content\",\n      \"label\": \"问题描述\",\n      \"align\": \"center\"\n    }\n  })], 1)], 1) : _vm._e(), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"error\"\n    }\n  })])]), _vm._v(\" \"), _c('el-tab-pane', {\n    attrs: {\n      \"label\": \"操作指引\",\n      \"name\": \"two\"\n    }\n  }, [_c('div', {\n    staticClass: \"explain\"\n  }, [_c('h3', [_c('i', {\n    staticClass: \"icon-case\"\n  }), _vm._v(\"导入格式案例\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"report-remark\",\n    staticStyle: {\n      \"margin-bottom\": \"20px\"\n    }\n  }, [_vm._v(\"\\n            科目成绩信息\\n          \")]), _vm._v(\" \"), _c('img', {\n    attrs: {\n      \"src\": require(\"../../../resources/front/imgs/Subjectinfomoban.png\")\n    }\n  }), _vm._v(\" \"), _c('h3', [_c('i', {\n    staticClass: \"icon-attentions\"\n  }), _vm._v(\"填写注意事项\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark\"\n  }, [_vm._v(\"1、姓名和学籍号为必填项。\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark\"\n  }, [_vm._v(\"2、学籍号需要输入全国统一学籍号且输入学籍号必须和系统学生学籍号保持一致。\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark\"\n  }, [_vm._v(\"3、体育科目有成绩的填写，没成绩的可以为空\")]), _vm._v(\" \"), _c('h3', [_c('i', {\n    staticClass: \"icon-import-instructions\"\n  }), _vm._v(\"导入说明\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark\"\n  }, [_vm._v(\"1、文件导入前请严格按照数据要求和格式要求填写。\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"son-remark\"\n  }, [_vm._v(\"2、导入如果出现异常或数据问题，请修改后重新导入。\")])])])], 1)], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-3677c5ea\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/pages/front/schoolRollFiler/subjectbatch.vue\n// module id = 792\n// module chunks = 37"],"sourceRoot":""}